<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Explorer: Reading Adventure</title>
    <style>
        :root {
            --primary-color: #4a6ed0;
            --secondary-color: #ff8a5c;
            --tertiary-color: #8bd3e6;
            --success-color: #76e383;
            --background-color: #f9f7f3;
            --text-color: #333;
            --card-color: white;
            --card-shadow: 0 8px 16px rgba(0,0,0,0.1);
            --font-main: 'Comic Sans MS', cursive, sans-serif;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: var(--text-color);
            transition: background-color 0.5s;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }

        h1 {
            margin: 0;
            font-size: 2.5rem;
            letter-spacing: 1px;
        }

        h2 {
            color: var(--primary-color);
            text-align: center;
            margin-top: 20px;
        }

        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .character-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
        }

        .character {
            font-size: 3rem;
            animation: bounce 2s infinite;
            cursor: pointer;
            transition: transform 0.3s;
            position: relative;
        }

        .character:hover {
            transform: scale(1.2);
        }

        .character-speech {
            position: absolute;
            background-color: white;
            border: 3px solid var(--primary-color);
            border-radius: 15px;
            padding: 10px;
            width: 150px;
            font-size: 0.8rem;
            top: -90px;
            left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 100;
        }

        .character-speech:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            border-width: 15px 15px 0;
            border-style: solid;
            border-color: var(--primary-color) transparent;
            margin-left: -15px;
        }

        .character:hover .character-speech {
            opacity: 1;
        }

        .flash-card {
            background-color: var(--card-color);
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            padding: 30px;
            text-align: center;
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
        }

        .flash-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.15);
        }

        .word-display {
            font-size: 3.5rem;
            font-weight: bold;
            margin: 15px 0;
            color: var(--primary-color);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .word-image {
            font-size: 4rem;
            margin: 15px 0;
        }

        .phonetic {
            font-size: 1.2rem;
            color: #777;
            margin: 10px 0;
            font-style: italic;
        }

        .example-sentence {
            font-size: 1.3rem;
            margin: 15px 0;
            color: #555;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 25px;
            font-size: 1rem;
            font-family: var(--font-main);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        button:hover {
            background-color: #3756b5;
            transform: scale(1.05);
        }

        button:active {
            transform: scale(0.95);
        }

        .correct {
            background-color: var(--success-color);
        }

        .incorrect {
            background-color: #ff6961;
        }

        .speak-btn {
            background-color: var(--tertiary-color);
            font-size: 1.2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            background-color: var(--card-color);
            border: 2px solid var(--tertiary-color);
            border-radius: 15px;
            padding: 15px 25px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        .option:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 20px;
            margin: 20px 0;
            height: 15px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--success-color);
            width: 0%;
            transition: width 0.5s;
            border-radius: 20px;
        }

        .progress-text {
            text-align: center;
            font-size: 1rem;
            margin-top: 5px;
        }

        .settings-panel {
            background-color: var(--card-color);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            margin: 20px 0;
        }

        .settings-heading {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .settings-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s;
        }

        .settings-content.open {
            max-height: 1000px;
        }

        .setting-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
        }

        .setting-label {
            font-size: 1.1rem;
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s;
            background-color: rgba(255,255,255,0.8);
        }

        .celebration.show {
            opacity: 1;
        }

        .celebration-content {
            text-align: center;
            animation: celebrate 1s ease-in-out;
        }

        .emoji-rain {
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .emoji {
            position: absolute;
            font-size: 2rem;
            animation: fall 3s linear;
            top: -50px;
        }

        .help-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--tertiary-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .help-btn:hover {
            transform: scale(1.1);
        }

        .help-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .help-modal.show {
            opacity: 1;
            pointer-events: auto;
        }

        .help-content {
            background-color: var(--card-color);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: var(--text-color);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--tertiary-color);
            color: white;
            border-radius: 50px;
            padding: 8px 15px;
            font-size: 0.9rem;
            margin: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .quiz-question {
            font-size: 1.5rem;
            margin: 15px 0;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            top: -10px;
            animation: confetti-fall 4s linear forwards;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #ddd;
            font-size: 0.9rem;
            color: #777;
        }

        /* Animations */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes celebrate {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes fall {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(800px) rotate(360deg); opacity: 0; }
        }

        @keyframes confetti-fall {
            0% { transform: translateY(0) rotate(0) scale(1); }
            100% { transform: translateY(1000px) rotate(720deg) scale(0); }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 2rem;
            }

            .flash-card {
                padding: 20px;
            }

            .word-display {
                font-size: 3rem;
            }

            .controls {
                flex-wrap: wrap;
            }
        }

        /* Dark mode */
        .dark-mode {
            --background-color: #222;
            --text-color: #eee;
            --card-color: #333;
            --card-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <header>
        <h1>Word Explorer 📚</h1>
        <div class="help-btn">❓</div>
    </header>

    <div class="container">
        <div class="character-container">
            <div class="character">
                🦊
                <div class="character-speech">Hi! I'm Foxy! I'll help you learn new words!</div>
            </div>
            <div class="character">
                🦉
                <div class="character-speech">Hello! I'm Professor Hoot! Let's build your vocabulary!</div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-bar"></div>
        </div>
        <div class="progress-text">Level: <span id="level-display">Beginner</span> - Words Mastered: <span id="words-mastered">0</span></div>

        <div class="settings-panel">
            <div class="settings-heading">
                <h3>Game Settings</h3>
                <span>⚙️</span>
            </div>
            <div class="settings-content">
                <div class="setting-row">
                    <div class="setting-label">Word Difficulty</div>
                    <div>
                        <select id="difficulty-setting">
                            <option value="beginner">Simple Words</option>
                            <option value="preK">Pre-K Sight Words</option>
                            <option value="kindergarten">Kindergarten Sight Words</option>
                            <option value="firstGrade">1st Grade Sight Words</option>
                            <option value="secondGrade">2nd Grade Sight Words</option>
                            <option value="thirdGrade">3rd Grade Sight Words</option>
                            <option value="easy">Easy Words</option>
                            <option value="medium">Medium Words</option>
                            <option value="advanced">Advanced Words</option>
                            <option value="expert">Expert Words</option>
                        </select>
                    </div>
                </div>
                <div class="setting-row">
                    <div class="setting-label">Speech Speed</div>
                    <div>
                        <input type="range" id="speech-rate" min="0.5" max="1.5" step="0.1" value="1">
                    </div>
                </div>
                <div class="setting-row">
                    <div class="setting-label">Show Phonetics</div>
                    <div>
                        <input type="checkbox" id="show-phonetics" checked>
                    </div>
                </div>
                <div class="setting-row">
                    <div class="setting-label">Show Example Sentences</div>
                    <div>
                        <input type="checkbox" id="show-sentences" checked>
                    </div>
                </div>
                <div class="setting-row">
                    <div class="setting-label">Dark Mode</div>
                    <div>
                        <input type="checkbox" id="dark-mode">
                    </div>
                </div>
                <div class="setting-row">
                    <button id="reset-progress">Reset Progress</button>
                </div>
            </div>
        </div>

        <div class="game-area">
            <div class="flash-card">
                <div class="word-image">🍎</div>
                <div class="word-display">apple</div>
                <div class="phonetic">/ˈæp.əl/</div>
                <div class="example-sentence">I like to eat an apple for lunch.</div>
                <div class="controls">
                    <button class="speak-btn">🔊</button>
                    <button id="know-btn">I Know This Word 👍</button>
                    <button id="learning-btn">Still Learning 🤔</button>
                    <button id="next-btn">Next Word ➡️</button>
                </div>
            </div>

            <div id="quiz-container" style="display: none;">
                <h2>Quick Quiz!</h2>
                <div class="flash-card">
                    <div class="quiz-question">What word does this image show?</div>
                    <div class="word-image">🍎</div>
                    <div class="options">
                        <div class="option">apple</div>
                        <div class="option">banana</div>
                        <div class="option">orange</div>
                        <div class="option">carrot</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="help-modal">
        <div class="help-content">
            <button class="close-btn">×</button>
            <h2>How to Play</h2>
            <p>Welcome to Word Explorer! This game will help you learn to read bigger and bigger words.</p>
            <h3>Game Controls</h3>
            <ul>
                <li><strong>🔊 Button</strong> - Click to hear the word pronounced</li>
                <li><strong>I Know This Word</strong> - Click if you can read the word easily</li>
                <li><strong>Still Learning</strong> - Click if you need more practice with this word</li>
                <li><strong>Next Word</strong> - Move to the next word</li>
            </ul>
            <h3>Game Features</h3>
            <p>As you learn more words, you'll unlock harder words and earn badges!</p>
            <p>You can adjust the game settings to make it easier or more challenging.</p>
            <h3>Tips for Parents</h3>
            <p>Encourage your child to sound out the words phonetically.</p>
            <p>Celebrate their progress, no matter how small!</p>
            <p>Practice regularly for the best results.</p>
            <div style="display: flex; flex-wrap: wrap; margin-top: 20px;">
                <div class="badge">Word Master 🏆</div>
                <div class="badge">Reading Star ⭐</div>
                <div class="badge">Vocabulary Hero 🦸</div>
            </div>
        </div>
    </div>

    <div class="celebration">
        <div class="celebration-content">
            <h2>Great Job! 🎉</h2>
            <p>You're learning so fast!</p>
            <div class="badge">New Badge Earned: Word Explorer 🔍</div>
        </div>
        <div class="emoji-rain"></div>
    </div>

    <footer>
        Word Explorer: Reading Adventure | Created for Young Learners
    </footer>

    <script>
        // Word database organized by difficulty levels
        const wordDatabase = {
            beginner: [
        { word: "cat", image: "🐱", phonetic: "/kæt/", sentence: "The cat sleeps on the bed." },
        { word: "dog", image: "🐶", phonetic: "/dɒɡ/", sentence: "The dog plays in the yard." },
        { word: "sun", image: "☀️", phonetic: "/sʌn/", sentence: "The sun is bright today." },
        { word: "hat", image: "🧢", phonetic: "/hæt/", sentence: "I wear a hat when it's sunny." },
        { word: "bed", image: "🛏️", phonetic: "/bed/", sentence: "I sleep in my bed." },
        { word: "cup", image: "🥤", phonetic: "/kʌp/", sentence: "I drink from my cup." },
        { word: "ball", image: "⚽", phonetic: "/bɔːl/", sentence: "I kick the ball in the park." },
        { word: "fish", image: "🐠", phonetic: "/fɪʃ/", sentence: "The fish swims in water." },
        { word: "star", image: "⭐", phonetic: "/stɑːr/", sentence: "I see stars at night." },
        { word: "book", image: "📕", phonetic: "/bʊk/", sentence: "I read a book before bed." }
    ],
    
    // Pre-K sight words
    preK: [
        { word: "a", image: "🅰️", phonetic: "/eɪ/", sentence: "I see a dog." },
        { word: "I", image: "👤", phonetic: "/aɪ/", sentence: "I like to play." },
        { word: "am", image: "🧍", phonetic: "/æm/", sentence: "I am happy." },
        { word: "the", image: "👉", phonetic: "/ðə/", sentence: "The ball is red." },
        { word: "and", image: "➕", phonetic: "/ænd/", sentence: "I have a cat and a dog." },
        { word: "can", image: "💪", phonetic: "/kæn/", sentence: "I can jump high." },
        { word: "is", image: "🟰", phonetic: "/ɪz/", sentence: "This is my toy." },
        { word: "it", image: "🔍", phonetic: "/ɪt/", sentence: "It is a ball." },
        { word: "me", image: "👈", phonetic: "/mi/", sentence: "Give it to me." },
        { word: "my", image: "🤲", phonetic: "/maɪ/", sentence: "This is my book." },
        { word: "no", image: "🚫", phonetic: "/noʊ/", sentence: "No, thank you." },
        { word: "see", image: "👁️", phonetic: "/si/", sentence: "I see a cat." },
        { word: "to", image: "➡️", phonetic: "/tu/", sentence: "I go to school." },
        { word: "we", image: "👨‍👩‍👧‍👦", phonetic: "/wi/", sentence: "We play together." },
        { word: "yes", image: "✅", phonetic: "/jes/", sentence: "Yes, I can help." },
        { word: "you", image: "👉", phonetic: "/ju/", sentence: "You are my friend." },
        { word: "go", image: "🚶", phonetic: "/ɡoʊ/", sentence: "Let's go to the park." },
        { word: "like", image: "👍", phonetic: "/laɪk/", sentence: "I like ice cream." },
        { word: "look", image: "👀", phonetic: "/lʊk/", sentence: "Look at the bird!" },
        { word: "play", image: "🎮", phonetic: "/pleɪ/", sentence: "I play with my toys." }
    ],
    
    // Kindergarten sight words
    kindergarten: [
        { word: "all", image: "🌐", phonetic: "/ɔːl/", sentence: "All the children are here." },
        { word: "are", image: "🟰", phonetic: "/ɑr/", sentence: "We are happy." },
        { word: "at", image: "📍", phonetic: "/æt/", sentence: "I am at school." },
        { word: "be", image: "🧿", phonetic: "/bi/", sentence: "I will be careful." },
        { word: "but", image: "🚧", phonetic: "/bʌt/", sentence: "I want to play, but it's raining." },
        { word: "by", image: "🏠", phonetic: "/baɪ/", sentence: "The cat is by the door." },
        { word: "come", image: "👋", phonetic: "/kʌm/", sentence: "Come to my house." },
        { word: "day", image: "☀️", phonetic: "/deɪ/", sentence: "Today is a good day." },
        { word: "did", image: "✅", phonetic: "/dɪd/", sentence: "I did my homework." },
        { word: "do", image: "🔨", phonetic: "/du/", sentence: "What do you like?" },
        { word: "down", image: "⬇️", phonetic: "/daʊn/", sentence: "The ball fell down." },
        { word: "for", image: "🎁", phonetic: "/fɔr/", sentence: "This gift is for you." },
        { word: "get", image: "🔄", phonetic: "/ɡet/", sentence: "I will get the book." },
        { word: "had", image: "🕰️", phonetic: "/hæd/", sentence: "I had fun at the park." },
        { word: "has", image: "✋", phonetic: "/hæz/", sentence: "She has a new toy." },
        { word: "have", image: "👐", phonetic: "/hæv/", sentence: "I have two books." },
        { word: "he", image: "👨", phonetic: "/hi/", sentence: "He is my brother." },
        { word: "her", image: "👩", phonetic: "/hɜr/", sentence: "That is her ball." },
        { word: "here", image: "📍", phonetic: "/hɪr/", sentence: "We are here now." },
        { word: "him", image: "👨", phonetic: "/hɪm/", sentence: "I gave him a toy." },
        { word: "his", image: "👨‍💼", phonetic: "/hɪz/", sentence: "This is his book." },
        { word: "how", image: "❓", phonetic: "/haʊ/", sentence: "How are you today?" },
        { word: "if", image: "🤔", phonetic: "/ɪf/", sentence: "If it rains, we'll stay inside." },
        { word: "in", image: "📦", phonetic: "/ɪn/", sentence: "The toy is in the box." },
        { word: "not", image: "🚫", phonetic: "/nɒt/", sentence: "This is not mine." },
        { word: "of", image: "📊", phonetic: "/əv/", sentence: "This is a picture of my dog." },
        { word: "on", image: "⬆️", phonetic: "/ɒn/", sentence: "The book is on the table." },
        { word: "one", image: "1️⃣", phonetic: "/wʌn/", sentence: "I have one apple." },
        { word: "or", image: "🔀", phonetic: "/ɔr/", sentence: "Do you want milk or juice?" },
        { word: "out", image: "🚪", phonetic: "/aʊt/", sentence: "We went out to play." }
    ],
    
    // First grade sight words
    firstGrade: [
        { word: "about", image: "💭", phonetic: "/əˈbaʊt/", sentence: "Let me tell you about my day." },
        { word: "after", image: "⏩", phonetic: "/ˈæftər/", sentence: "We play after school." },
        { word: "again", image: "🔄", phonetic: "/əˈɡen/", sentence: "Can we read it again?" },
        { word: "an", image: "1️⃣", phonetic: "/æn/", sentence: "I saw an elephant at the zoo." },
        { word: "any", image: "🎲", phonetic: "/ˈeni/", sentence: "Do you have any questions?" },
        { word: "as", image: "🟰", phonetic: "/æz/", sentence: "The box is as big as the table." },
        { word: "back", image: "↩️", phonetic: "/bæk/", sentence: "I came back from school." },
        { word: "been", image: "⏱️", phonetic: "/bɪn/", sentence: "I have been to the beach." },
        { word: "before", image: "⬅️", phonetic: "/bɪˈfɔr/", sentence: "Wash your hands before eating." },
        { word: "big", image: "🐘", phonetic: "/bɪɡ/", sentence: "That is a big house." },
        { word: "call", image: "📞", phonetic: "/kɔl/", sentence: "I will call you tomorrow." },
        { word: "came", image: "🚶", phonetic: "/keɪm/", sentence: "She came to visit me." },
        { word: "could", image: "💭", phonetic: "/kʊd/", sentence: "I could do it myself." },
        { word: "from", image: "🏠", phonetic: "/frʌm/", sentence: "I am from Canada." },
        { word: "good", image: "👍", phonetic: "/ɡʊd/", sentence: "You did a good job!" },
        { word: "has", image: "👐", phonetic: "/hæz/", sentence: "She has a new toy." },
        { word: "into", image: "➡️", phonetic: "/ˈɪntə/", sentence: "The cat jumped into the box." },
        { word: "just", image: "⏰", phonetic: "/dʒʌst/", sentence: "We just arrived." },
        { word: "know", image: "🧠", phonetic: "/noʊ/", sentence: "I know the answer." },
        { word: "little", image: "🐁", phonetic: "/ˈlɪtəl/", sentence: "The little mouse ran away." },
        { word: "live", image: "🏠", phonetic: "/lɪv/", sentence: "We live in a blue house." },
        { word: "long", image: "📏", phonetic: "/lɔŋ/", sentence: "The snake is very long." },
        { word: "made", image: "🔨", phonetic: "/meɪd/", sentence: "I made a paper airplane." },
        { word: "many", image: "🔢", phonetic: "/ˈmeni/", sentence: "How many books do you have?" },
        { word: "may", image: "🤔", phonetic: "/meɪ/", sentence: "May I go to the bathroom?" },
        { word: "more", image: "➕", phonetic: "/mɔr/", sentence: "Can I have more juice?" },
        { word: "must", image: "❗", phonetic: "/mʌst/", sentence: "You must clean your room." },
        { word: "new", image: "✨", phonetic: "/nu/", sentence: "I got a new toy." },
        { word: "now", image: "⏱️", phonetic: "/naʊ/", sentence: "I want to go home now." },
        { word: "off", image: "📴", phonetic: "/ɔf/", sentence: "Please turn off the light." }
    ],
    
    // Second grade sight words
    secondGrade: [
        { word: "always", image: "🔄", phonetic: "/ˈɔlweɪz/", sentence: "I always brush my teeth." },
        { word: "around", image: "🔄", phonetic: "/əˈraʊnd/", sentence: "The children ran around the playground." },
        { word: "because", image: "🔍", phonetic: "/bɪˈkɔz/", sentence: "I'm happy because it's my birthday." },
        { word: "been", image: "⏱️", phonetic: "/bɪn/", sentence: "We've been to the zoo before." },
        { word: "before", image: "⬅️", phonetic: "/bɪˈfɔr/", sentence: "Let's eat breakfast before we go." },
        { word: "best", image: "🏆", phonetic: "/best/", sentence: "She is my best friend." },
        { word: "both", image: "👭", phonetic: "/boʊθ/", sentence: "Both of my shoes are red." },
        { word: "buy", image: "🛒", phonetic: "/baɪ/", sentence: "I want to buy a new book." },
        { word: "cold", image: "❄️", phonetic: "/koʊld/", sentence: "It's cold outside today." },
        { word: "does", image: "❓", phonetic: "/dʌz/", sentence: "What does this word mean?" },
        { word: "don't", image: "🚫", phonetic: "/doʊnt/", sentence: "Don't forget your lunch." },
        { word: "fast", image: "🏃", phonetic: "/fæst/", sentence: "The cheetah runs very fast." },
        { word: "first", image: "1️⃣", phonetic: "/fɜrst/", sentence: "I was first in line." },
        { word: "five", image: "5️⃣", phonetic: "/faɪv/", sentence: "I have five fingers on each hand." },
        { word: "found", image: "🔍", phonetic: "/faʊnd/", sentence: "I found my lost toy." },
        { word: "gave", image: "🎁", phonetic: "/ɡeɪv/", sentence: "She gave me a present." },
        { word: "goes", image: "➡️", phonetic: "/ɡoʊz/", sentence: "He goes to school every day." },
        { word: "green", image: "🟢", phonetic: "/ɡrin/", sentence: "The grass is green." },
        { word: "its", image: "🐶", phonetic: "/ɪts/", sentence: "The dog wagged its tail." },
        { word: "laugh", image: "😄", phonetic: "/læf/", sentence: "The joke made me laugh." },
        { word: "light", image: "💡", phonetic: "/laɪt/", sentence: "Turn on the light, please." },
        { word: "made", image: "🔨", phonetic: "/meɪd/", sentence: "I made a card for Mom." },
        { word: "might", image: "🤔", phonetic: "/maɪt/", sentence: "It might rain later." },
        { word: "never", image: "❌", phonetic: "/ˈnevər/", sentence: "I never saw that movie." },
        { word: "once", image: "1️⃣", phonetic: "/wʌns/", sentence: "I went there once before." },
        { word: "pull", image: "🚪", phonetic: "/pʊl/", sentence: "Pull the door to open it." },
        { word: "read", image: "📚", phonetic: "/rid/", sentence: "I like to read books." },
        { word: "right", image: "➡️", phonetic: "/raɪt/", sentence: "Turn right at the corner." },
        { word: "sing", image: "🎵", phonetic: "/sɪŋ/", sentence: "I like to sing songs." },
        { word: "sit", image: "🪑", phonetic: "/sɪt/", sentence: "Please sit down." }
    ],
    
    // Third grade sight words
    thirdGrade: [
        { word: "above", image: "⬆️", phonetic: "/əˈbʌv/", sentence: "The clouds are above us." },
        { word: "across", image: "↔️", phonetic: "/əˈkrɔs/", sentence: "We walked across the bridge." },
        { word: "almost", image: "🔄", phonetic: "/ˈɔlmoʊst/", sentence: "I almost finished my homework." },
        { word: "along", image: "↔️", phonetic: "/əˈlɔŋ/", sentence: "We walked along the beach." },
        { word: "another", image: "➕", phonetic: "/əˈnʌðər/", sentence: "I'd like another cookie, please." },
        { word: "begin", image: "🏁", phonetic: "/bɪˈɡɪn/", sentence: "Let's begin our lesson." },
        { word: "better", image: "👍", phonetic: "/ˈbetər/", sentence: "I feel better today." },
        { word: "bring", image: "🎒", phonetic: "/brɪŋ/", sentence: "Please bring your book tomorrow." },
        { word: "carry", image: "🛍️", phonetic: "/ˈkæri/", sentence: "Can you help me carry this?" },
        { word: "clean", image: "✨", phonetic: "/klin/", sentence: "Please clean your room." },
        { word: "cut", image: "✂️", phonetic: "/kʌt/", sentence: "Cut along the dotted line." },
        { word: "done", image: "✅", phonetic: "/dʌn/", sentence: "I'm done with my homework." },
        { word: "draw", image: "🖌️", phonetic: "/drɔ/", sentence: "I like to draw pictures." },
        { word: "drink", image: "🥛", phonetic: "/drɪŋk/", sentence: "I drink water when I'm thirsty." },
        { word: "eight", image: "8️⃣", phonetic: "/eɪt/", sentence: "I have eight colored pencils." },
        { word: "fall", image: "🍂", phonetic: "/fɔl/", sentence: "Leaves fall in autumn." },
        { word: "far", image: "🔭", phonetic: "/fɑr/", sentence: "The park is far from here." },
        { word: "full", image: "🍽️", phonetic: "/fʊl/", sentence: "My glass is full of juice." },
        { word: "got", image: "👐", phonetic: "/ɡɒt/", sentence: "I got a new toy for my birthday." },
        { word: "grow", image: "🌱", phonetic: "/ɡroʊ/", sentence: "Plants grow when we water them." },
        { word: "hold", image: "✋", phonetic: "/hoʊld/", sentence: "Hold my hand when we cross the street." },
        { word: "hurt", image: "🤕", phonetic: "/hɜrt/", sentence: "I hurt my knee when I fell." },
        { word: "keep", image: "🔒", phonetic: "/kip/", sentence: "Keep your room clean." },
        { word: "kind", image: "❤️", phonetic: "/kaɪnd/", sentence: "It's important to be kind to others." },
        { word: "laugh", image: "😄", phonetic: "/læf/", sentence: "That joke made me laugh." },
        { word: "light", image: "💡", phonetic: "/laɪt/", sentence: "Turn on the light, please." },
        { word: "only", image: "1️⃣", phonetic: "/ˈoʊnli/", sentence: "I have only one sister." },
        { word: "own", image: "🤲", phonetic: "/oʊn/", sentence: "This is my own book." },
        { word: "pick", image: "👆", phonetic: "/pɪk/", sentence: "Pick the red apple." },
        { word: "seven", image: "7️⃣", phonetic: "/ˈsevən/", sentence: "There are seven days in a week." }
    ],
    
    // Original easy level words
    easy: [
        { word: "apple", image: "🍎", phonetic: "/ˈæp.əl/", sentence: "I like to eat an apple for lunch." },
        { word: "happy", image: "😃", phonetic: "/ˈhæp.i/", sentence: "I feel happy when I play." },
        { word: "water", image: "💧", phonetic: "/ˈwɔː.tər/", sentence: "I drink water every day." },
        { word: "friend", image: "👭", phonetic: "/frend/", sentence: "My friend plays with me." },
        { word: "house", image: "🏠", phonetic: "/haʊs/", sentence: "I live in a house." },
        { word: "rabbit", image: "🐰", phonetic: "/ˈræb.ɪt/", sentence: "The rabbit hops in the garden." },
        { word: "flower", image: "🌸", phonetic: "/ˈflaʊ.ər/", sentence: "The flower grows in spring." },
        { word: "pencil", image: "✏️", phonetic: "/ˈpen.səl/", sentence: "I write with a pencil." },
        { word: "cloud", image: "☁️", phonetic: "/klaʊd/", sentence: "The cloud is in the sky." },
        { word: "window", image: "🪟", phonetic: "/ˈwɪn.doʊ/", sentence: "I look through the window." }
    ],
    
    medium: [
                { word: "birthday", image: "🎂", phonetic: "/ˈbɜːθ.deɪ/", sentence: "Today is my birthday!" },
                { word: "elephant", image: "🐘", phonetic: "/ˈel.ɪ.fənt/", sentence: "The elephant has a long trunk." },
                { word: "rainbow", image: "🌈", phonetic: "/ˈreɪn.boʊ/", sentence: "I saw a rainbow after the rain." },
                { word: "sandwich", image: "🥪", phonetic: "/ˈsænd.wɪtʃ/", sentence: "I eat a sandwich for lunch." },
                { word: "butterfly", image: "🦋", phonetic: "/ˈbʌt.ə.flaɪ/", sentence: "The butterfly has colorful wings." },
                { word: "playground", image: "🛝", phonetic: "/ˈpleɪ.ɡraʊnd/", sentence: "I play at the playground." },
                { word: "dinosaur", image: "🦖", phonetic: "/ˈdaɪ.nə.sɔːr/", sentence: "The dinosaur lived long ago." },
                { word: "umbrella", image: "☂️", phonetic: "/ʌmˈbrel.ə/", sentence: "I use an umbrella when it rains." },
                { word: "chocolate", image: "🍫", phonetic: "/ˈtʃɒk.lət/", sentence: "I like to eat chocolate." },
                { word: "sunflower", image: "🌻", phonetic: "/ˈsʌn.flaʊ.ər/", sentence: "The sunflower is tall and yellow." }
            ],
            advanced: [
                { word: "beautiful", image: "🦚", phonetic: "/ˈbjuː.tɪ.fəl/", sentence: "The garden is beautiful in spring." },
                { word: "adventure", image: "🏕️", phonetic: "/ədˈven.tʃər/", sentence: "We had an adventure in the forest." },
                { word: "astronaut", image: "👨‍🚀", phonetic: "/ˈæs.trə.nɔːt/", sentence: "The astronaut travels to space." },
                { word: "vacation", image: "🏖️", phonetic: "/veɪˈkeɪ.ʃən/", sentence: "We go on vacation in summer." },
                { word: "refrigerator", image: "🧊", phonetic: "/rɪˈfrɪdʒ.ə.reɪ.tər/", sentence: "I keep food in the refrigerator." },
                { word: "vegetables", image: "🥦", phonetic: "/ˈvedʒ.tə.bəlz/", sentence: "I eat vegetables with dinner." },
                { word: "helicopter", image: "🚁", phonetic: "/ˈhel.ɪ.kɒp.tər/", sentence: "The helicopter flies in the sky." },
                { word: "playground", image: "🛝", phonetic: "/ˈpleɪ.ɡraʊnd/", sentence: "We have fun at the playground." },
                { word: "microscope", image: "🔬", phonetic: "/ˈmaɪ.krə.skəʊp/", sentence: "I look at small things with a microscope." },
                { word: "watermelon", image: "🍉", phonetic: "/ˈwɔː.tər.mel.ən/", sentence: "Watermelon is juicy and sweet." }
            ],
            expert: [
                { word: "extraordinary", image: "✨", phonetic: "/ɪkˈstrɔːr.dɪn.er.i/", sentence: "The magic show was extraordinary!" },
                { word: "imagination", image: "🧠", phonetic: "/ɪˌmædʒ.ɪˈneɪ.ʃən/", sentence: "I use my imagination to create stories." },
                { word: "celebration", image: "🎉", phonetic: "/ˌsel.əˈbreɪ.ʃən/", sentence: "We had a celebration for my birthday." },
                { word: "telescope", image: "🔭", phonetic: "/ˈtel.ɪ.skəʊp/", sentence: "I see stars with my telescope." },
                { word: "encyclopedia", image: "📚", phonetic: "/ɪnˌsaɪ.kləˈpiː.di.ə/", sentence: "I read the encyclopedia to learn new things." },
                { word: "transportation", image: "🚂", phonetic: "/ˌtræn.spɔːrˈteɪ.ʃən/", sentence: "Trains are a type of transportation." },
                { word: "communication", image: "📱", phonetic: "/kəˌmjuː.nɪˈkeɪ.ʃən/", sentence: "Talking is a form of communication." },
                { word: "experiment", image: "🧪", phonetic: "/ɪkˈsper.ɪ.mənt/", sentence: "We did a science experiment in class." },
                { word: "temperature", image: "🌡️", phonetic: "/ˈtem.prə.tʃər/", sentence: "The temperature is hot in summer." },
                { word: "mathematics", image: "🔢", phonetic: "/ˌmæθ.əˈmæt.ɪks/", sentence: "I study mathematics at school." }
            ]
        };

        // Game state
        let gameState = {
            currentDifficulty: "beginner",
            currentWordIndex: 0,
            wordsMastered: 0,
            correctAnswers: 0,
            showingQuiz: false,
            masteredWords: {},
            badges: [],
            level: "Beginner",
            speechRate: 1
        };

        // DOM Elements
        const wordDisplay = document.querySelector('.word-display');
        const wordImage = document.querySelector('.word-image');
        const phoneticDisplay = document.querySelector('.phonetic');
        const sentenceDisplay = document.querySelector('.example-sentence');
        const speakBtn = document.querySelector('.speak-btn');
        const knowBtn = document.getElementById('know-btn');
        const learningBtn = document.getElementById('learning-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.querySelector('.progress-bar');
        const wordsMasteredDisplay = document.getElementById('words-mastered');
        const levelDisplay = document.getElementById('level-display');
        const quizContainer = document.getElementById('quiz-container');
        const settingsHeading = document.querySelector('.settings-heading');
        const settingsContent = document.querySelector('.settings-content');
        const difficultySetting = document.getElementById('difficulty-setting');
        const speechRateSetting = document.getElementById('speech-rate');
        const showPhoneticsSetting = document.getElementById('show-phonetics');
        const showSentencesSetting = document.getElementById('show-sentences');
        const darkModeSetting = document.getElementById('dark-mode');
        const resetProgressBtn = document.getElementById('reset-progress');
        const helpBtn = document.querySelector('.help-btn');
        const helpModal = document.querySelector('.help-modal');
        const closeHelpBtn = document.querySelector('.close-btn');
        const celebration = document.querySelector('.celebration');

        // Initialize game
        function initGame() {
            // Load saved state from localStorage if available
            loadGameState();

            // Update UI based on current state
            updateUI();

            // Event listeners
            speakBtn.addEventListener('click', speakCurrentWord);
            knowBtn.addEventListener('click', handleKnowWord);
            learningBtn.addEventListener('click', handleLearningWord);
            nextBtn.addEventListener('click', showNextWord);
            settingsHeading.addEventListener('click', toggleSettings);
            difficultySetting.addEventListener('change', changeDifficulty);
            speechRateSetting.addEventListener('change', changeSpeechRate);
            showPhoneticsSetting.addEventListener('change', togglePhonetics);
            showSentencesSetting.addEventListener('change', toggleSentences);
            darkModeSetting.addEventListener('change', toggleDarkMode);
            resetProgressBtn.addEventListener('click', resetProgress);
            helpBtn.addEventListener('click', openHelp);
            closeHelpBtn.addEventListener('click', closeHelp);

            // Character tooltips
            const characters = document.querySelectorAll('.character');
            characters.forEach(character => {
                character.addEventListener('click', () => {
                    speakCurrentWord();
                    character.classList.add('bounce');
                    setTimeout(() => {
                        character.classList.remove('bounce');
                    }, 1000);
                });
            });

            // Set up quiz options click handlers
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', handleQuizOption);
            });

            updateLevelDisplay();

        }

        // Load game state from localStorage
        function loadGameState() {
            const savedState = localStorage.getItem('wordExplorerState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                gameState = { ...gameState, ...parsedState };
                
                // Set UI controls to match saved state
                difficultySetting.value = gameState.currentDifficulty;
                speechRateSetting.value = gameState.speechRate;
                showPhoneticsSetting.checked = gameState.showPhonetics !== false;
                showSentencesSetting.checked = gameState.showSentences !== false;
                darkModeSetting.checked = gameState.darkMode === true;
                
                if (gameState.darkMode) {
                    document.body.classList.add('dark-mode');
                }
            }
        }

        // Save game state to localStorage
        function saveGameState() {
            localStorage.setItem('wordExplorerState', JSON.stringify(gameState));
        }

        // Update UI based on current game state
        function updateUI() {
            const currentWord = getCurrentWord();
            
            // Update word card
            wordDisplay.textContent = currentWord.word;
            wordImage.textContent = currentWord.image;
            phoneticDisplay.textContent = currentWord.phonetic;
            sentenceDisplay.textContent = currentWord.sentence;
            
            // Update progress indicators
            wordsMasteredDisplay.textContent = gameState.wordsMastered;
            levelDisplay.textContent = gameState.level;
            
            // Calculate progress percentage based on words mastered in current difficulty
            const totalWordsInLevel = wordDatabase[gameState.currentDifficulty].length;
            const masteredInCurrentLevel = Object.keys(gameState.masteredWords)
                .filter(word => gameState.masteredWords[word] === gameState.currentDifficulty)
                .length;
            const progressPercentage = (masteredInCurrentLevel / totalWordsInLevel) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            
            // Show/hide elements based on settings
            phoneticDisplay.style.display = gameState.showPhonetics !== false ? 'block' : 'none';
            sentenceDisplay.style.display = gameState.showSentences !== false ? 'block' : 'none';
            
            // Show appropriate buttons
            if (gameState.showingQuiz) {
                document.querySelector('.flash-card .controls').style.display = 'none';
                quizContainer.style.display = 'block';
            } else {
                document.querySelector('.flash-card .controls').style.display = 'flex';
                quizContainer.style.display = 'none';
            }
        }

        // Get current word from database
        function getCurrentWord() {
            const words = wordDatabase[gameState.currentDifficulty];
            return words[gameState.currentWordIndex % words.length];
        }

        // Speak the current word using the Web Speech API
        function speakCurrentWord() {
            const word = getCurrentWord().word;
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.rate = gameState.speechRate;
            speechSynthesis.speak(utterance);
            
            // Optional: Also speak the sentence if enabled
            if (gameState.showSentences !== false) {
                const sentenceUtterance = new SpeechSynthesisUtterance(getCurrentWord().sentence);
                sentenceUtterance.rate = gameState.speechRate;
                setTimeout(() => {
                    speechSynthesis.speak(sentenceUtterance);
                }, 1000);
            }
        }

        // Handle "I Know This Word" button
        function handleKnowWord() {
            const currentWord = getCurrentWord().word;
            
            // Add to mastered words if not already mastered
            if (!gameState.masteredWords[currentWord]) {
                gameState.masteredWords[currentWord] = gameState.currentDifficulty;
                gameState.wordsMastered++;
                
                // Check for level up
                checkForLevelUp();
                
                // Occasionally show a quiz to reinforce learning
                if (Math.random() < 0.3) {
                    showQuiz();
                    return;
                }
            }
            
            // Show next word
            showNextWord();
        }

        // Handle "Still Learning" button
        function handleLearningWord() {
            // Keep in the rotation, but move to next word
            showNextWord();
        }

        // Show next word
        function showNextWord() {
            gameState.currentWordIndex++;
            gameState.showingQuiz = false;
            updateUI();
            saveGameState();
        }

        // Show a quiz to reinforce learning
        function showQuiz() {
            gameState.showingQuiz = true;
            
            // Get the current word and 3 other random words as options
            const correctWord = getCurrentWord();
            const allWords = wordDatabase[gameState.currentDifficulty];
            let options = [correctWord.word];
            
            while (options.length < 4) {
                const randomIndex = Math.floor(Math.random() * allWords.length);
                const randomWord = allWords[randomIndex].word;
                if (!options.includes(randomWord)) {
                    options.push(randomWord);
                }
            }
            
            // Shuffle options
            options = shuffleArray(options);
            
            // Update quiz UI
            document.querySelector('.quiz-question').textContent = "What word does this image show?";
            document.querySelector('#quiz-container .word-image').textContent = correctWord.image;
            
            const optionElements = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                optionElements[index].textContent = option;
                optionElements[index].className = 'option'; // Reset classes
            });
            
            updateUI();
        }

        // Handle quiz option selection
        function handleQuizOption(event) {
            const selectedOption = event.target.textContent;
            const correctWord = getCurrentWord().word;
            
            if (selectedOption === correctWord) {
                // Correct answer
                event.target.classList.add('correct');
                gameState.correctAnswers++;
                
                // Show celebration if they've gotten multiple correct answers
                if (gameState.correctAnswers % 5 === 0) {
                    showCelebration();
                }
                
                // Move to next word after a short delay
                setTimeout(() => {
                    showNextWord();
                }, 1000);
            } else {
                // Incorrect answer
                event.target.classList.add('incorrect');
                
                // Highlight the correct answer
                document.querySelectorAll('.option').forEach(option => {
                    if (option.textContent === correctWord) {
                        option.classList.add('correct');
                    }
                });
                
                // Move to next word after a delay
                setTimeout(() => {
                    showNextWord();
                }, 2000);
            }
        }

        // Check if player has mastered enough words to level up
        function checkForLevelUp() {
    const totalWordsInLevel = wordDatabase[gameState.currentDifficulty].length;
    const masteredInCurrentLevel = Object.keys(gameState.masteredWords)
        .filter(word => gameState.masteredWords[word] === gameState.currentDifficulty)
        .length;
    
    // Level up if they've mastered at least 80% of words
    if (masteredInCurrentLevel >= totalWordsInLevel * 0.8) {
        const nextLevel = getNextRecommendedLevel(gameState.currentDifficulty);
        
        if (nextLevel !== gameState.currentDifficulty) {
            gameState.currentDifficulty = nextLevel;
            gameState.currentWordIndex = 0;
            
            // Update level display
            updateLevelDisplay();
            
            // Add new badge
            const badges = [
                "Word Explorer 🔍",
                "Reading Ranger 📚",
                "Vocabulary Voyager 🚀",
                "Word Wizard 🧙‍♂️",
                "Reading Champion 🏆",
                "Sight Word Master 👁️",
                "Phonics Pro 🔤",
                "Reading Hero 📘",
                "Vocabulary Victor 🏅",
                "Literary Legend 📜"
            ];
            
            // Find a suitable badge based on level progression
            const progressionPath = ["beginner", "preK", "kindergarten", "firstGrade", "secondGrade", "thirdGrade", "easy", "medium", "advanced", "expert"];
            const currentIndex = progressionPath.indexOf(gameState.currentDifficulty);
            
            if (currentIndex < badges.length && currentIndex >= 0) {
                gameState.badges.push(badges[currentIndex]);
                showCelebration(badges[currentIndex]);
            }
            
            // Update difficulty setting in UI
            difficultySetting.value = nextLevel;
        }
    }
}

        // Show celebration animation
        function showCelebration(badge) {
            const celebrationEl = document.querySelector('.celebration');
            const badgeEl = document.querySelector('.celebration .badge');
            
            if (badge) {
                badgeEl.textContent = `New Badge Earned: ${badge}`;
            } else {
                badgeEl.textContent = `New Badge Earned: Word Master 🏆`;
            }
            
            // Show emojis
            const emojiRain = document.querySelector('.emoji-rain');
            emojiRain.innerHTML = '';
            
            const emojis = ['🎉', '⭐', '🏆', '🌟', '✨', '💫', '👏', '🙌', '🎊', '🥳'];
            for (let i = 0; i < 50; i++) {
                const emoji = document.createElement('div');
                emoji.className = 'emoji';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = `${Math.random() * 100}%`;
                emoji.style.animationDelay = `${Math.random() * 2}s`;
                emojiRain.appendChild(emoji);
            }
            
            // Show celebration
            celebrationEl.classList.add('show');
            
            // Hide after a few seconds
            setTimeout(() => {
                celebrationEl.classList.remove('show');
            }, 3000);
        }

        // Toggle settings panel
        function toggleSettings() {
            settingsContent.classList.toggle('open');
        }

        // Change difficulty level
        function changeDifficulty() {
    gameState.currentDifficulty = difficultySetting.value;
    gameState.currentWordIndex = 0;
    updateLevelDisplay();
    updateUI();
    saveGameState();
}

        // Change speech rate
        function changeSpeechRate() {
            gameState.speechRate = parseFloat(speechRateSetting.value);
            saveGameState();
        }

        // Toggle phonetics display
        function togglePhonetics() {
            gameState.showPhonetics = showPhoneticsSetting.checked;
            updateUI();
            saveGameState();
        }

        // Toggle sentences display
        function toggleSentences() {
            gameState.showSentences = showSentencesSetting.checked;
            updateUI();
            saveGameState();
        }

        // Toggle dark mode
        function toggleDarkMode() {
            gameState.darkMode = darkModeSetting.checked;
            document.body.classList.toggle('dark-mode', gameState.darkMode);
            saveGameState();
        }

        // Reset progress
        function resetProgress() {
            if (confirm("Are you sure you want to reset all progress? This cannot be undone.")) {
                gameState = {
                    currentDifficulty: "beginner",
                    currentWordIndex: 0,
                    wordsMastered: 0,
                    correctAnswers: 0,
                    showingQuiz: false,
                    masteredWords: {},
                    badges: [],
                    level: "Beginner",
                    speechRate: gameState.speechRate,
                    showPhonetics: gameState.showPhonetics,
                    showSentences: gameState.showSentences,
                    darkMode: gameState.darkMode
                };
                updateUI();
                saveGameState();
            }
        }

        // Open help modal
        function openHelp() {
            helpModal.classList.add('show');
        }

        // Close help modal
        function closeHelp() {
            helpModal.classList.remove('show');
        }

        // Utility: Shuffle array
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Initialize the game
        document.addEventListener('DOMContentLoaded', initGame);

// Function to display friendly level names
function updateLevelDisplay() {
    const levelDisplayNames = {
        "beginner": "Simple Words",
        "preK": "Pre-K Sight Words",
        "kindergarten": "Kindergarten Sight Words",
        "firstGrade": "1st Grade Sight Words",
        "secondGrade": "2nd Grade Sight Words",
        "thirdGrade": "3rd Grade Sight Words",
        "easy": "Easy Words",
        "medium": "Medium Words",
        "advanced": "Advanced Words",
        "expert": "Expert Words"
    };
    
    levelDisplay.textContent = levelDisplayNames[gameState.currentDifficulty] || gameState.currentDifficulty;
}

// Function to determine the next level in progression
function getNextRecommendedLevel(currentLevel) {
    const progressionPath = [
        "beginner",
        "preK",
        "kindergarten", 
        "firstGrade",
        "secondGrade",
        "thirdGrade",
        "easy",
        "medium",
        "advanced",
        "expert"
    ];
    
    const currentIndex = progressionPath.indexOf(currentLevel);
    if (currentIndex >= 0 && currentIndex < progressionPath.length - 1) {
        return progressionPath[currentIndex + 1];
    }
    
    return currentLevel; // Stay on same level if at the end
}

</script>
</body>
</html>