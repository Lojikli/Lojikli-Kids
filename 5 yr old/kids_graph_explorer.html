<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Explorer for Kids</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .container {
            display: flex;
            gap: 30px;
            max-width: 1400px;
            width: 100%;
        }

        .controls {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            min-width: 300px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .graph-area {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
        }

        .graph-type-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 25px;
        }

        .graph-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            border: none;
            border-radius: 15px;
            padding: 15px 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-align: center;
        }

        .graph-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .graph-btn.active {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            transform: scale(1.05);
        }

        .parameter-control {
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
        }

        .parameter-control label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #fff;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .parameter-value {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 8px;
            margin-top: 5px;
            text-align: center;
            font-weight: bold;
        }

        #graphCanvas {
            border: 3px solid #ddd;
            border-radius: 15px;
            background: #fff;
            cursor: crosshair;
        }

        .explanation {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border-left: 5px solid #ff6b6b;
        }

        .explanation h3 {
            color: #ffeb3b;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .equation {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            margin: 10px 0;
            text-align: center;
            color: #ffeb3b;
        }

        .fun-fact {
            background: linear-gradient(45deg, #e91e63, #9c27b0);
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .coordinates {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                gap: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .graph-type-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <h1>üåü Graph Explorer for Kids! üåü</h1>
    <p class="subtitle">Discover the magical world of mathematical curves!</p>

    <div class="container">
        <div class="controls">
            <h2>Choose Your Graph Adventure!</h2>
            <div class="graph-type-selector">
                <button class="graph-btn active" data-type="linear">üìè Straight Line</button>
                <button class="graph-btn" data-type="quadratic">üèîÔ∏è Hill & Valley</button>
                <button class="graph-btn" data-type="cubic">üé¢ Roller Coaster</button>
                <button class="graph-btn" data-type="exponential">üöÄ Rocket Growth</button>
                <button class="graph-btn" data-type="logarithmic">üêå Slow Growth</button>
                <button class="graph-btn" data-type="sine">üåä Ocean Wave</button>
            </div>

            <div id="parameters"></div>

            <div class="explanation">
                <h3 id="graphTitle">Straight Line Adventure!</h3>
                <div id="equation" class="equation"></div>
                <p id="explanation"></p>
                <div id="funFact" class="fun-fact"></div>
            </div>
        </div>

        <div class="graph-area">
            <canvas id="graphCanvas" width="600" height="500"></canvas>
            <div class="coordinates" id="coordinates">Move mouse to see coordinates!</div>
        </div>
    </div>

    <script>
        class GraphExplorer {
            constructor() {
                this.canvas = document.getElementById('graphCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.currentType = 'linear';
                this.parameters = {};
                this.mousePos = { x: 0, y: 0 };
                
                this.setupEventListeners();
                this.setupParameters();
                this.drawGraph();
            }

            setupEventListeners() {
                document.querySelectorAll('.graph-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.graph-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentType = e.target.dataset.type;
                        this.setupParameters();
                        this.drawGraph();
                    });
                });

                this.canvas.addEventListener('mousemove', (e) => {
                    const rect = this.canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // Convert canvas coordinates to graph coordinates
                    const graphX = ((x - 300) / 30).toFixed(1);
                    const graphY = ((250 - y) / 30).toFixed(1);
                    
                    document.getElementById('coordinates').textContent = `x: ${graphX}, y: ${graphY}`;
                });
            }

            setupParameters() {
                const paramContainer = document.getElementById('parameters');
                paramContainer.innerHTML = '';

                const configs = {
                    linear: {
                        title: 'Straight Line Adventure!',
                        equation: 'y = mx + b',
                        explanation: 'A straight line! The "m" makes it steeper or flatter, and "b" moves it up or down. Like drawing with a ruler!',
                        funFact: 'üéà Fun Fact: Every time you walk at the same speed, you\'re making a straight line graph of distance over time!',
                        params: [
                            { name: 'm', label: 'Steepness (slope)', min: -3, max: 3, step: 0.1, default: 1 },
                            { name: 'b', label: 'Up/Down (y-intercept)', min: -5, max: 5, step: 0.1, default: 0 }
                        ]
                    },
                    quadratic: {
                        title: 'Hill & Valley Adventure!',
                        equation: 'y = ax¬≤ + bx + c',
                        explanation: 'This makes a curved line like a hill or valley! It\'s what happens when you throw a ball - it goes up and comes down in this shape!',
                        funFact: '‚öΩ Fun Fact: When you kick a soccer ball, it follows this exact curve through the air!',
                        params: [
                            { name: 'a', label: 'Curve Direction', min: -2, max: 2, step: 0.1, default: 1 },
                            { name: 'b', label: 'Side Push', min: -3, max: 3, step: 0.1, default: 0 },
                            { name: 'c', label: 'Up/Down', min: -5, max: 5, step: 0.1, default: 0 }
                        ]
                    },
                    cubic: {
                        title: 'Roller Coaster Adventure!',
                        equation: 'y = ax¬≥ + bx¬≤ + cx + d',
                        explanation: 'This wiggly line looks like a roller coaster! It can go up, down, up again - like a fun ride at the theme park!',
                        funFact: 'üé¢ Fun Fact: Real roller coasters are designed using these mathematical curves to make the ride smooth and exciting!',
                        params: [
                            { name: 'a', label: 'Big Wiggle', min: -0.5, max: 0.5, step: 0.01, default: 0.1 },
                            { name: 'b', label: 'Medium Wiggle', min: -1, max: 1, step: 0.1, default: 0 },
                            { name: 'c', label: 'Small Wiggle', min: -2, max: 2, step: 0.1, default: 0 },
                            { name: 'd', label: 'Up/Down', min: -3, max: 3, step: 0.1, default: 0 }
                        ]
                    },
                    exponential: {
                        title: 'Rocket Growth Adventure!',
                        equation: 'y = a √ó bÀ£',
                        explanation: 'This curve grows super fast, like a rocket taking off! It starts slow but then ZOOM - it goes way up really quickly!',
                        funFact: 'üöÄ Fun Fact: This is how your money grows in a savings account - slowly at first, then faster and faster!',
                        params: [
                            { name: 'a', label: 'Starting Height', min: 0.1, max: 3, step: 0.1, default: 1 },
                            { name: 'b', label: 'Growth Speed', min: 1.1, max: 2, step: 0.1, default: 1.5 }
                        ]
                    },
                    logarithmic: {
                        title: 'Slow Growth Adventure!',
                        equation: 'y = a √ó log(x) + b',
                        explanation: 'This curve grows quickly at first, then slows down - like climbing a mountain that gets harder as you go higher!',
                        funFact: 'üêå Fun Fact: This is how loud sounds work - the difference between whisper and normal talking is bigger than normal talking and shouting!',
                        params: [
                            { name: 'a', label: 'Growth Amount', min: 0.5, max: 3, step: 0.1, default: 2 },
                            { name: 'b', label: 'Up/Down', min: -3, max: 3, step: 0.1, default: 0 }
                        ]
                    },
                    sine: {
                        title: 'Ocean Wave Adventure!',
                        equation: 'y = a √ó sin(bx + c) + d',
                        explanation: 'This makes waves like the ocean! It goes up and down, up and down, in a perfect rhythm - just like waves on the beach!',
                        funFact: 'üåä Fun Fact: Ocean waves, sound waves, and even light waves all follow this beautiful pattern!',
                        params: [
                            { name: 'a', label: 'Wave Height', min: 1, max: 4, step: 0.1, default: 2 },
                            { name: 'b', label: 'Wave Speed', min: 0.5, max: 2, step: 0.1, default: 1 },
                            { name: 'c', label: 'Wave Start', min: 0, max: 6.28, step: 0.1, default: 0 },
                            { name: 'd', label: 'Wave Center', min: -3, max: 3, step: 0.1, default: 0 }
                        ]
                    }
                };

                const config = configs[this.currentType];
                
                document.getElementById('graphTitle').textContent = config.title;
                document.getElementById('equation').textContent = config.equation;
                document.getElementById('explanation').textContent = config.explanation;
                document.getElementById('funFact').textContent = config.funFact;

                config.params.forEach(param => {
                    this.parameters[param.name] = param.default;
                    
                    const controlDiv = document.createElement('div');
                    controlDiv.className = 'parameter-control';
                    controlDiv.innerHTML = `
                        <label>${param.label}</label>
                        <input type="range" class="slider" 
                               min="${param.min}" max="${param.max}" step="${param.step}" 
                               value="${param.default}" data-param="${param.name}">
                        <div class="parameter-value">${param.default}</div>
                    `;
                    paramContainer.appendChild(controlDiv);

                    const slider = controlDiv.querySelector('.slider');
                    const valueDiv = controlDiv.querySelector('.parameter-value');
                    
                    slider.addEventListener('input', (e) => {
                        const value = parseFloat(e.target.value);
                        this.parameters[param.name] = value;
                        valueDiv.textContent = value;
                        this.drawGraph();
                    });
                });
            }

            drawGraph() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Draw grid
                this.drawGrid();
                
                // Draw axes
                this.drawAxes();
                
                // Draw the function
                this.drawFunction();
            }

            drawGrid() {
                this.ctx.strokeStyle = '#f0f0f0';
                this.ctx.lineWidth = 1;
                
                // Vertical lines
                for (let x = 0; x <= this.canvas.width; x += 30) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, 0);
                    this.ctx.lineTo(x, this.canvas.height);
                    this.ctx.stroke();
                }
                
                // Horizontal lines
                for (let y = 0; y <= this.canvas.height; y += 30) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(0, y);
                    this.ctx.lineTo(this.canvas.width, y);
                    this.ctx.stroke();
                }
            }

            drawAxes() {
                this.ctx.strokeStyle = '#333';
                this.ctx.lineWidth = 2;
                
                // X-axis
                this.ctx.beginPath();
                this.ctx.moveTo(0, 250);
                this.ctx.lineTo(this.canvas.width, 250);
                this.ctx.stroke();
                
                // Y-axis
                this.ctx.beginPath();
                this.ctx.moveTo(300, 0);
                this.ctx.lineTo(300, this.canvas.height);
                this.ctx.stroke();
                
                // Draw numbers
                this.ctx.fillStyle = '#666';
                this.ctx.font = '12px Arial';
                this.ctx.textAlign = 'center';
                
                // X-axis numbers
                for (let i = -10; i <= 10; i++) {
                    if (i !== 0) {
                        const x = 300 + i * 30;
                        this.ctx.fillText(i.toString(), x, 265);
                    }
                }
                
                // Y-axis numbers
                this.ctx.textAlign = 'right';
                for (let i = -8; i <= 8; i++) {
                    if (i !== 0) {
                        const y = 250 - i * 30;
                        this.ctx.fillText(i.toString(), 295, y + 4);
                    }
                }
            }

            drawFunction() {
                this.ctx.strokeStyle = '#ff6b6b';
                this.ctx.lineWidth = 3;
                this.ctx.beginPath();
                
                let firstPoint = true;
                
                for (let canvasX = 0; canvasX <= this.canvas.width; canvasX += 2) {
                    const x = (canvasX - 300) / 30; // Convert to graph coordinates
                    let y;
                    
                    try {
                        y = this.calculateY(x);
                        if (isNaN(y) || !isFinite(y)) continue;
                    } catch (e) {
                        continue;
                    }
                    
                    const canvasY = 250 - y * 30; // Convert back to canvas coordinates
                    
                    // Only draw if y is within reasonable bounds
                    if (canvasY >= -100 && canvasY <= this.canvas.height + 100) {
                        if (firstPoint) {
                            this.ctx.moveTo(canvasX, canvasY);
                            firstPoint = false;
                        } else {
                            this.ctx.lineTo(canvasX, canvasY);
                        }
                    } else {
                        firstPoint = true;
                    }
                }
                
                this.ctx.stroke();
            }

            calculateY(x) {
                const p = this.parameters;
                
                switch (this.currentType) {
                    case 'linear':
                        return p.m * x + p.b;
                    
                    case 'quadratic':
                        return p.a * x * x + p.b * x + p.c;
                    
                    case 'cubic':
                        return p.a * x * x * x + p.b * x * x + p.c * x + p.d;
                    
                    case 'exponential':
                        return p.a * Math.pow(p.b, x);
                    
                    case 'logarithmic':
                        if (x <= 0) throw new Error('Invalid domain');
                        return p.a * Math.log(x) + p.b;
                    
                    case 'sine':
                        return p.a * Math.sin(p.b * x + p.c) + p.d;
                    
                    default:
                        return 0;
                }
            }
        }

        // Initialize the app when the page loads
        window.addEventListener('load', () => {
            new GraphExplorer();
        });
    </script>
</body>
</html>