<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Mathematics Learning Center</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Poppins:wght@500;600;700&display=swap');
        
        :root {
            --primary: #2b6cb0;
            --primary-light: #3182ce;
            --secondary: #38b2ac;
            --accent: #ed8936;
            --background: #f7fafc;
            --card-bg: #ffffff;
            --text: #2d3748;
            --text-light: #4a5568;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            
            /* New color variables */
            --numbers-gradient-start: #3182ce;
            --numbers-gradient-end: #63b3ed;
            --shapes-gradient-start: #38b2ac;
            --shapes-gradient-end: #4fd1c5;
            --advanced-gradient-start: #805ad5;
            --advanced-gradient-end: #b794f4;
            --puzzles-gradient-start: #dd6b20;
            --puzzles-gradient-end: #f6ad55;
            --games-gradient-start: #2f855a;
            --games-gradient-end: #68d391;
            --discovery-gradient-start: #c53030;
            --discovery-gradient-end: #fc8181;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            padding-bottom: 2rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 2rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px var(--shadow);
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 2;
        }
        
        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #ffffff, #f0f4ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 600px;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .header-shapes {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }
        
        .header-shape {
            position: absolute;
            opacity: 0.1;
            background-color: white;
        }
        
        .shape-1 {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            top: -40px;
            right: 10%;
        }
        
        .shape-2 {
            width: 80px;
            height: 80px;
            transform: rotate(45deg);
            bottom: 20px;
            right: 20%;
        }
        
        .shape-3 {
            width: 100px;
            height: 100px;
            border-radius: 30%;
            top: 30%;
            right: 5%;
        }
        
        /* Improved age filter */
        .controls-container {
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 15px var(--shadow);
            margin: 2rem 0;
            padding: 1.5rem;
            transition: background-color 0.3s ease;
        }
        
        .control-section {
            margin-bottom: 1rem;
        }
        
        .control-section:last-child {
            margin-bottom: 0;
        }
        
        .control-title {
            font-size: 1rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .control-title i {
            margin-right: 0.5rem;
        }
        
        .age-filter {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .age-btn {
            background-color: var(--card-bg);
            border: 2px solid var(--border);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .age-btn i {
            margin-right: 0.5rem;
            font-size: 0.9rem;
        }
        
        .age-btn:hover, .age-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 6px rgba(43, 108, 176, 0.2);
            transform: translateY(-2px);
        }
        
        .age-btn.toddler {
            border-color: var(--puzzles-gradient-start);
        }
        
        .age-btn.toddler:hover, .age-btn.toddler.active {
            background-color: var(--puzzles-gradient-start);
            border-color: var(--puzzles-gradient-start);
            box-shadow: 0 4px 6px rgba(221, 107, 32, 0.2);
        }
        
        .age-btn.kindergarten {
            border-color: var(--shapes-gradient-start);
        }
        
        .age-btn.kindergarten:hover, .age-btn.kindergarten.active {
            background-color: var(--shapes-gradient-start);
            border-color: var(--shapes-gradient-start);
            box-shadow: 0 4px 6px rgba(56, 178, 172, 0.2);
        }
        
        /* Repository controls */
        .repo-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .repo-input {
            flex: 1;
            min-width: 250px;
            padding: 0.75rem 1rem;
            border-radius: 50px;
            border: 2px solid var(--border);
            font-family: 'Nunito', sans-serif;
            font-size: 0.9rem;
            color: var(--text);
            background-color: var(--card-bg);
            transition: all 0.3s ease;
        }
        
        .repo-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.2);
        }
        
        .repo-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            border: none;
            background-color: var(--primary);
            color: white;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .repo-btn i {
            margin-right: 0.5rem;
        }
        
        .repo-btn:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(43, 108, 176, 0.3);
        }
        
        /* Search input */
        .search-container {
            position: relative;
            margin-top: 1rem;
        }
        
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border-radius: 50px;
            border: 2px solid var(--border);
            font-family: 'Nunito', sans-serif;
            font-size: 0.9rem;
            color: var(--text);
            background-color: var(--card-bg);
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.2);
        }
        
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }
        
        /* Module grid improvements */
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .module {
            background-color: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 20px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            position: relative;
            border: 1px solid var(--border);
        }
        
        .module:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
            z-index: 2;
        }
        
        .module-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            padding: 1.8rem;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .module-icon {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.8);
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        
        .module-title {
            color: white;
            margin: 0;
            font-size: 1.5rem;
            padding-right: 2.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .module-age {
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.25rem 0.75rem;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.8rem;
            color: white;
            backdrop-filter: blur(4px);
        }
        
        .game-list {
            list-style: none;
            padding: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-light) var(--border);
        }
        
        .game-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .game-list::-webkit-scrollbar-track {
            background: var(--border);
            border-radius: 10px;
        }
        
        .game-list::-webkit-scrollbar-thumb {
            background-color: var(--primary-light);
            border-radius: 10px;
        }
        
        .game-item {
            margin-bottom: 0.75rem;
            transition: all 0.2s ease;
        }
        
        .game-item:last-child {
            margin-bottom: 0;
        }
        
        .game-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text);
            padding: 0.75rem 1rem;
            border-radius: 10px;
            transition: all 0.2s ease;
            background-color: rgba(0, 0, 0, 0.02);
            border-left: 3px solid transparent;
        }
        
        .game-link:hover {
            background-color: rgba(0, 0, 0, 0.05);
            border-left-color: var(--primary);
            transform: translateX(5px);
        }
        
        .game-icon {
            margin-right: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: var(--primary-light);
            color: white;
            border-radius: 8px;
            font-size: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }
        
        .game-details {
            flex: 1;
        }
        
        .game-name {
            font-weight: 600;
            display: block;
            font-size: 0.95rem;
        }
        
        .game-description {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 0.2rem;
        }
        
        .game-meta {
            display: flex;
            align-items: center;
            margin-top: 0.3rem;
            font-size: 0.75rem;
            color: var(--text-light);
        }
        
        .game-type {
            display: inline-flex;
            align-items: center;
            margin-right: 0.75rem;
        }
        
        .game-type i {
            margin-right: 0.25rem;
            font-size: 0.7rem;
        }
        
        .game-size {
            display: inline-flex;
            align-items: center;
        }
        
        .game-size i {
            margin-right: 0.25rem;
            font-size: 0.7rem;
        }
        
        /* Module color variations with enhanced gradients */
        .module.numbers .module-header {
            background: linear-gradient(135deg, var(--numbers-gradient-start) 0%, var(--numbers-gradient-end) 100%);
        }
        
        .module.shapes .module-header {
            background: linear-gradient(135deg, var(--shapes-gradient-start) 0%, var(--shapes-gradient-end) 100%);
        }
        
        .module.advanced .module-header {
            background: linear-gradient(135deg, var(--advanced-gradient-start) 0%, var(--advanced-gradient-end) 100%);
        }
        
        .module.puzzles .module-header {
            background: linear-gradient(135deg, var(--puzzles-gradient-start) 0%, var(--puzzles-gradient-end) 100%);
        }
        
        .module.games .module-header {
            background: linear-gradient(135deg, var(--games-gradient-start) 0%, var(--games-gradient-end) 100%);
        }
        
        .module.discovery .module-header {
            background: linear-gradient(135deg, var(--discovery-gradient-start) 0%, var(--discovery-gradient-end) 100%);
        }
        
        /* Match game icons to modules */
        .module.numbers .game-icon {
            background-color: var(--numbers-gradient-end);
        }
        
        .module.shapes .game-icon {
            background-color: var(--shapes-gradient-end);
        }
        
        .module.advanced .game-icon {
            background-color: var(--advanced-gradient-end);
        }
        
        .module.puzzles .game-icon {
            background-color: var(--puzzles-gradient-end);
        }
        
        .module.games .game-icon {
            background-color: var(--games-gradient-end);
        }
        
        .module.discovery .game-icon {
            background-color: var(--discovery-gradient-end);
        }
        
        /* Enhanced footer */
        footer {
            background-color: var(--card-bg);
            padding: 3rem 0;
            text-align: center;
            border-top: 1px solid var(--border);
            margin-top: 4rem;
            transition: background-color 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .footer-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            background-image: radial-gradient(circle at 10% 20%, var(--primary-light) 0%, transparent 50%),
                             radial-gradient(circle at 90% 80%, var(--secondary) 0%, transparent 50%);
            z-index: 0;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1rem;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .footer-description {
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto 1.5rem;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .social-link.github {
            background-color: #333;
        }
        
        .social-link.twitter {
            background-color: #1DA1F2;
        }
        
        .social-link.youtube {
            background-color: #FF0000;
        }
        
        /* Loading indicator */
        .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem 0;
            flex-direction: column;
        }
        
        .loader {
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        .loading-text {
            color: var(--text-light);
            font-weight: 600;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* No content state */
        .no-content {
            text-align: center;
            padding: 4rem 2rem;
            background-color: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 10px var(--shadow);
            margin: 3rem 0;
        }
        
        .no-content-icon {
            font-size: 4rem;
            color: var(--text-light);
            opacity: 0.5;
            margin-bottom: 1rem;
        }
        
        .no-content-title {
            font-size: 1.5rem;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        
        .no-content-message {
            color: var(--text-light);
            max-width: 500px;
            margin: 0 auto 1.5rem;
        }
        
        .no-content-btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
        }
        
        .no-content-btn:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Interactive elements */
        .interactive-banner {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0 3rem;
            display: flex;
            align-items: center;
            box-shadow: 0 8px 20px var(--shadow);
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }
        
        .interactive-banner:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .banner-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle at 0% 0%, rgba(237, 137, 54, 0.1) 0%, transparent 60%),
                             radial-gradient(circle at 100% 100%, rgba(49, 130, 206, 0.1) 0%, transparent 60%);
            z-index: 0;
        }
        
        .banner-content {
            flex: 1;
            position: relative;
            z-index: 1;
        }
        
        .banner-title {
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-size: 1.8rem;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .banner-text {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            max-width: 600px;
        }
        
        .banner-btn {
            display: inline-block;
            background: linear-gradient(to right, var(--accent), #f6ad55);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .banner-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #f6ad55, var(--accent));
            z-index: -1;
            transition: opacity 0.3s ease;
            opacity: 0;
        }
        
        .banner-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(237, 137, 54, 0.3);
        }
        
        .banner-btn:hover::before {
            opacity: 1;
        }
        
        .banner-image {
            margin-left: 2rem;
            width: 180px;
            height: 180px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            position: relative;
            z-index: 1;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }
        
        /* Theme toggle enhanced */
        .theme-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 1.2rem;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 100;
            border: none;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .interactive-banner {
                flex-direction: column;
                text-align: center;
            }
            
            .banner-image {
                margin: 2rem 0 0;
                width: 150px;
                height: 150px;
            }
            
            .age-filter {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .theme-toggle {
                bottom: 1.5rem;
                right: 1.5rem;
                width: 45px;
                height: 45px;
            }
            
            .module-grid {
                grid-template-columns: 1fr;
            }
            
            .repo-controls {
                flex-direction: column;
            }
            
            .repo-input {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            header h1 {
                font-size: 1.8rem;
            }
            
            .module-header {
                padding: 1.5rem;
            }
            
            .module-title {
                font-size: 1.3rem;
            }
            
            .interactive-banner {
                padding: 1.5rem;
            }
            
            .banner-title {
                font-size: 1.5rem;
            }
            
            .banner-image {
                width: 120px;
                height: 120px;
                font-size: 4rem;
            }
        }
        
        /* Dark mode */
        body.dark-mode {
            --background: #1a202c;
            --card-bg: #2d3748;
            --text: #f7fafc;
            --text-light: #e2e8f0;
            --border: #4a5568;
            --shadow: rgba(0, 0, 0, 0.3);
        }
        
        /* Subtle animations */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .float {
            animation: float 3s infinite ease-in-out;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        /* Animation classes */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Toast notifications */
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            max-width: 300px;
        }
        
        .toast {
            background-color: var(--card-bg);
            color: var(--text);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
            max-width: 100%;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; max-height: 100px; margin-bottom: 0.5rem; }
            to { opacity: 0; max-height: 0; margin-bottom: 0; }
        }
        
        .toast.success {
            border-left: 4px solid #38a169;
        }
        
        .toast.error {
            border-left: 4px solid #e53e3e;
        }
        
        .toast.info {
            border-left: 4px solid #3182ce;
        }
        
        .toast-icon {
            font-size: 1.2rem;
            margin-right: 0.75rem;
        }
        
        .toast.success .toast-icon {
            color: #38a169;
        }
        
        .toast.error .toast-icon {
            color: #e53e3e;
        }
        
        .toast.info .toast-icon {
            color: #3182ce;
        }
        
        .toast-message {
            flex: 1;
            font-size: 0.9rem;
        }
        
        .toast-close {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 1rem;
            margin-left: 0.5rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-shapes">
            <div class="header-shape shape-1"></div>
            <div class="header-shape shape-2"></div>
            <div class="header-shape shape-3"></div>
        </div>
        <div class="header-content">
            <h1>Interactive Mathematics Learning Center</h1>
            <p>Engaging educational games designed by experts to make learning mathematics fun and effective for young minds.</p>
        </div>
    </header>
    
    <div class="container">
        <!-- Controls section -->
        <div class="controls-container">
            <!-- Repository input section -->
            <div class="control-section">
                <div class="control-title">
                    <i class="fas fa-code-branch"></i> GitHub Repository
                </div>
                <div class="repo-controls">
                    <input type="text" id="repoOwner" class="repo-input" placeholder="GitHub Username" value="">
                    <input type="text" id="repoName" class="repo-input" placeholder="Repository Name" value="">
                    <button id="loadRepoBtn" class="repo-btn">
                        <i class="fas fa-sync-alt"></i> Load Files
                    </button>
                </div>
            </div>
            
            <!-- Age filter section -->
            <div class="control-section">
                <div class="control-title">
                    <i class="fas fa-child"></i> Age Filter
                </div>
                <div class="age-filter">
                    <button class="age-btn all active">
                        <i class="fas fa-users"></i> All Ages
                    </button>
                    <button class="age-btn toddler">
                        <i class="fas fa-baby"></i> Toddlers (2-3 years)
                    </button>
                    <button class="age-btn kindergarten">
                        <i class="fas fa-child"></i> Early Learners (4-5 years)
                    </button>
                </div>
            </div>
            
            <!-- Search section -->
            <div class="control-section">
                <div class="control-title">
                    <i class="fas fa-search"></i> Search Games
                </div>
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" class="search-input" placeholder="Search by name, topic, or file type...">
                </div>
            </div>
        </div>
        
        <div class="interactive-banner">
            <div class="banner-bg"></div>
            <div class="banner-content">
                <h3 class="banner-title">Welcome to our Learning Adventure!</h3>
                <p class="banner-text">Our educational games combine fun and learning to help young minds develop strong mathematical foundations while enjoying themselves.</p>
                <a href="#" class="banner-btn pulse">
                    Start Learning
                </a>
            </div>
            <div class="banner-image float">
                🧩
            </div>
        </div>
        
        <!-- Initial loading state -->
        <div id="loadingContainer" class="loading-container" style="display: none;">
            <div class="loader"></div>
            <div class="loading-text">Loading repository files...</div>
        </div>
        
        <!-- No content state -->
        <div id="noContentContainer" class="no-content" style="display: none;">
            <div class="no-content-icon">
                <i class="fas fa-folder-open"></i>
            </div>
            <h2 class="no-content-title">No repository loaded</h2>
            <p class="no-content-message">Enter your GitHub username and repository name above to load your educational games and resources.</p>
            <button id="sampleDataBtn" class="no-content-btn">
                Load Sample Data
            </button>
        </div>
        
        <!-- Module grid - will be populated dynamically -->
        <div id="moduleGrid" class="module-grid">
            <!-- Modules will be added here by JavaScript -->
        </div>
    </div>
    
    <footer>
        <div class="footer-bg"></div>
        <div class="footer-content">
            <div class="footer-logo">Interactive Mathematics Learning Center</div>
            <p class="footer-description">Designed to foster mathematical thinking and problem-solving skills in young minds through engaging educational content.</p>
            
            <div class="social-links">
                <a href="#" class="social-link github">
                    <i class="fab fa-github"></i>
                </a>
                <a href="#" class="social-link twitter">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="social-link youtube">
                    <i class="fab fa-youtube"></i>
                </a>
            </div>
        </div>
    </footer>
    
    <!-- Toast notifications container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Theme toggle button -->
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-sun"></i>
    </button>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const moduleGrid = document.getElementById('moduleGrid');
            const loadingContainer = document.getElementById('loadingContainer');
            const noContentContainer = document.getElementById('noContentContainer');
            const repoOwnerInput = document.getElementById('repoOwner');
            const repoNameInput = document.getElementById('repoName');
            const loadRepoBtn = document.getElementById('loadRepoBtn');
            const sampleDataBtn = document.getElementById('sampleDataBtn');
            const searchInput = document.getElementById('searchInput');
            const ageButtons = document.querySelectorAll('.age-btn');
            const themeToggle = document.getElementById('themeToggle');
            const toastContainer = document.getElementById('toastContainer');
            
            // State variables
            let files = [];
            let modules = [];
            let isDarkMode = false;
            let activeAgeFilter = 'all';
            
            // Module definitions with file patterns to match and corresponding icons
            const moduleDefinitions = [
                {
                    id: 'numbers',
                    title: 'Number Exploration',
                    age: 'Ages 2-5',
                    icon: '🔢',
                    patterns: ['number', 'count', 'math', 'digit', 'arithmetic', 'shape-explorer', 'measurement-quest']
                },
                {
                    id: 'shapes',
                    title: 'Pattern & Logic',
                    age: 'Ages 5+',
                    icon: '📊',
                    patterns: ['pattern', 'logic', 'block', 'data', 'statistics', 'scientific', 'vector', 'big-number']
                },
                {
                    id: 'advanced',
                    title: 'Advanced Concepts',
                    age: 'Ages 5+',
                    icon: '🎓',
                    patterns: ['advanced', 'calculus', 'curve', 'triangle', 'wizard', 'quantum', 'trig']
                },
                {
                    id: 'puzzles',
                    title: 'Puzzle Collection',
                    age: 'Ages 2-5',
                    icon: '🧩',
                    patterns: ['puzzle', 'tiles', 'matching', 'mahjong', 'enhanced-tile']
                },
                {
                    id: 'games',
                    title: 'Strategy Games',
                    age: 'Ages 5+',
                    icon: '🎮',
                    patterns: ['strategy', 'problem', 'solver', 'lemmings', 'sort', 'solitaire']
                },
                {
                    id: 'discovery',
                    title: 'Discovery Center',
                    age: 'Ages 2-5',
                    icon: '🔍',
                    patterns: ['discovery', 'explorer', 'world', 'geography', 'technology', 'neural', 'brain', 'unit-conversion']
                }
            ];
            
            // File type icons mapping
            const fileTypeIcons = {
                'html': '<i class="fas fa-code"></i>',
                'css': '<i class="fab fa-css3-alt"></i>',
                'js': '<i class="fab fa-js-square"></i>',
                'pdf': '<i class="fas fa-file-pdf"></i>',
                'jpg': '<i class="fas fa-image"></i>',
                'jpeg': '<i class="fas fa-image"></i>',
                'png': '<i class="fas fa-image"></i>',
                'svg': '<i class="fas fa-bezier-curve"></i>',
                'default': '<i class="fas fa-file"></i>'
            };
            
            // Icon mapping for games based on keywords in filename
            const gameIcons = [
                { patterns: ['triangle', 'angle'], icon: '📐' },
                { patterns: ['number', 'count', 'digit'], icon: '🔢' },
                { patterns: ['measure', 'unit', 'conversion'], icon: '📏' },
                { patterns: ['toddler', 'baby', '2-yr', '2 yr'], icon: '👶' },
                { patterns: ['block', 'build'], icon: '🧱' },
                { patterns: ['data', 'statistics', 'stat'], icon: '📈' },
                { patterns: ['science', 'scientific'], icon: '🔬' },
                { patterns: ['vector', 'direction', 'magnitude'], icon: '➡️' },
                { patterns: ['math', 'wizard', 'calculus', 'division'], icon: '➗' },
                { patterns: ['curve', 'graph'], icon: '📈' },
                { patterns: ['quantum'], icon: '⚛️' },
                { patterns: ['match', 'mahjong', 'tile'], icon: '🀄' },
                { patterns: ['learn'], icon: '🎮' },
                { patterns: ['advanced'], icon: '🎯' },
                { patterns: ['problem', 'lemmings', 'solver'], icon: '🚶' },
                { patterns: ['brain'], icon: '🧠' },
                { patterns: ['card', 'solitaire'], icon: '🃏' },
                { patterns: ['sort'], icon: '🎴' },
                { patterns: ['world', 'geography', 'map'], icon: '🌍' },
                { patterns: ['tech', 'robot'], icon: '🤖' },
                { patterns: ['neural'], icon: '🧠' },
                { patterns: ['book', 'story'], icon: '📚' },
                { patterns: ['default'], icon: '🎮' }
            ];
            
            // Fetch repository files from GitHub API
            async function fetchRepositoryFiles(owner, repo) {
                try {
                    showLoading();
                    
                    // GitHub API URL for fetching repository contents
                    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents`;
                    
                    // Fetch the data
                    const response = await fetch(apiUrl);
                    
                    if (!response.ok) {
                        throw new Error(`GitHub API error: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    // Filter only files (not directories)
                    files = data.filter(item => item.type === 'file');
                    
                    // Process the files and organize them into modules
                    processFiles(files);
                    
                    hideLoading();
                    hideNoContent();
                    showToast('success', 'Repository loaded successfully!');
                } catch (error) {
                    console.error('Error fetching repository files:', error);
                    hideLoading();
                    showNoContent();
                    showToast('error', 'Failed to load repository. Please check the username and repository name.');
                }
            }
            
            // Process files and organize them into modules
            function processFiles(files) {
                // Clear existing modules
                modules = [];
                
                // Initialize module structure
                moduleDefinitions.forEach(def => {
                    modules.push({
                        id: def.id,
                        title: def.title,
                        age: def.age,
                        icon: def.icon,
                        files: []
                    });
                });
                
                // Categorize files into modules
                files.forEach(file => {
                    const fileName = file.name.toLowerCase();
                    const fileExtension = fileName.split('.').pop();
                    
                    // Determine file size in KB
                    const fileSizeKB = Math.round(file.size / 1024);
                    
                    // Assign age group based on filename patterns
                    let ageGroup = [];
                    if (fileName.includes('toddler') || fileName.includes('2-yr') || fileName.includes('2 yr') || fileName.includes('2-3')) {
                        ageGroup.push('age-2');
                    }
                    if (fileName.includes('early') || fileName.includes('4-5') || fileName.includes('5-') || 
                        fileName.includes('kinder') || !ageGroup.length) {
                        ageGroup.push('age-5');
                    }
                    
                    // Generate a human-readable name from the filename
                    let displayName = file.name
                        .replace(/\.[^/.]+$/, "") // Remove file extension
                        .replace(/-/g, " ")       // Replace hyphens with spaces
                        .replace(/_/g, " ")       // Replace underscores with spaces
                        .replace(/\b\w/g, char => char.toUpperCase()); // Capitalize first letter of each word
                    
                    // Shorten very long display names
                    if (displayName.length > 30) {
                        displayName = displayName.substring(0, 27) + '...';
                    }
                    
                    // Generate file description based on name
                    let description = '';
                    if (fileName.includes('game') || fileName.includes('explorer') || fileName.includes('adventure')) {
                        description = 'Interactive learning game';
                    } else if (fileName.includes('quiz')) {
                        description = 'Knowledge assessment quiz';
                    } else if (fileName.includes('lesson')) {
                        description = 'Educational lesson material';
                    } else if (fileName.includes('pdf') || fileName.includes('doc')) {
                        description = 'Learning resource document';
                    } else {
                        description = 'Mathematics learning resource';
                    }
                    
                    // Find the game icon based on filename
                    let gameIcon = gameIcons.find(item => 
                        item.patterns.some(pattern => fileName.includes(pattern))
                    );
                    
                    if (!gameIcon) {
                        gameIcon = gameIcons.find(item => item.patterns.includes('default'));
                    }
                    
                    // Create file object
                    const fileObj = {
                        name: file.name,
                        displayName: displayName,
                        description: description,
                        url: file.html_url,
                        download_url: file.download_url,
                        raw_url: file.download_url, // GitHub raw content URL
                        type: fileExtension,
                        size: fileSizeKB,
                        ageGroup: ageGroup,
                        icon: gameIcon.icon
                    };
                    
                    // Determine which module this file belongs to
                    let assigned = false;
                    
                    for (const module of modules) {
                        const moduleIndex = moduleDefinitions.findIndex(def => def.id === module.id);
                        const patterns = moduleDefinitions[moduleIndex].patterns;
                        
                        if (patterns.some(pattern => fileName.includes(pattern))) {
                            module.files.push(fileObj);
                            assigned = true;
                            break;
                        }
                    }
                    
                    // If not assigned to any specific module, add to discovery by default
                    if (!assigned) {
                        const discoveryModule = modules.find(module => module.id === 'discovery');
                        discoveryModule.files.push(fileObj);
                    }
                });
                
                // Render the modules
                renderModules();
            }
            
            // Render modules and their files
            function renderModules() {
                // Clear the module grid
                moduleGrid.innerHTML = '';
                
                // Filter modules that have files
                const modulesWithFiles = modules.filter(module => module.files.length > 0);
                
                // If no modules with files, show no content message
                if (modulesWithFiles.length === 0) {
                    showNoContent();
                    return;
                }
                
                // Render each module
                modulesWithFiles.forEach((module, index) => {
                    // Create module element
                    const moduleElement = document.createElement('div');
                    moduleElement.className = `module ${module.id} animate-in`;
                    moduleElement.style.animationDelay = `${index * 0.1}s`;
                    
                    // Create module header
                    moduleElement.innerHTML = `
                        <div class="module-header">
                            <h2 class="module-title">${module.title}</h2>
                            <span class="module-age">${module.age}</span>
                            <div class="module-icon">${module.icon}</div>
                        </div>
                        <ul class="game-list">
                            ${renderFiles(module.files)}
                        </ul>
                    `;
                    
                    // Add module to the grid
                    moduleGrid.appendChild(moduleElement);
                });
                
                // Apply current age filter
                filterGamesByAge(activeAgeFilter);
            }
            
            // Render files within a module
            function renderFiles(files) {
                return files.map(file => {
                    // Get file type icon
                    const typeIcon = fileTypeIcons[file.type] || fileTypeIcons.default;
                    
                    // Create age group class string
                    const ageClasses = file.ageGroup.join(' ');
                    
                    return `
                        <li class="game-item ${ageClasses}">
                            <a href="${file.download_url}" target="_blank" class="game-link">
                                <span class="game-icon">${file.icon}</span>
                                <div class="game-details">
                                    <span class="game-name">${file.displayName}</span>
                                    <span class="game-description">${file.description}</span>
                                    <div class="game-meta">
                                        <span class="game-type">
                                            ${typeIcon} ${file.type.toUpperCase()}
                                        </span>
                                        <span class="game-size">
                                            <i class="fas fa-file-archive"></i> ${file.size} KB
                                        </span>
                                    </div>
                                </div>
                            </a>
                        </li>
                    `;
                }).join('');
            }
            
            // Filter games by age group
            function filterGamesByAge(ageFilter) {
                const allGames = document.querySelectorAll('.game-item');
                
                allGames.forEach(game => {
                    if (ageFilter === 'all') {
                        game.style.display = 'block';
                    } else if (ageFilter === 'toddler') {
                        if (game.classList.contains('age-2')) {
                            game.style.display = 'block';
                        } else {
                            game.style.display = 'none';
                        }
                    } else if (ageFilter === 'kindergarten') {
                        if (game.classList.contains('age-5')) {
                            game.style.display = 'block';
                        } else {
                            game.style.display = 'none';
                        }
                    }
                });
                
                // Store active filter
                activeAgeFilter = ageFilter;
            }
            
            // Show loading state
            function showLoading() {
                loadingContainer.style.display = 'flex';
                noContentContainer.style.display = 'none';
            }
            
            // Hide loading state
            function hideLoading() {
                loadingContainer.style.display = 'none';
            }
            
            // Show no content state
            function showNoContent() {
                noContentContainer.style.display = 'block';
                moduleGrid.innerHTML = '';
            }
            
            // Hide no content state
            function hideNoContent() {
                noContentContainer.style.display = 'none';
            }
            
            // Search functionality
            function searchGames(query) {
                const searchTerm = query.toLowerCase();
                const allGames = document.querySelectorAll('.game-item');
                
                allGames.forEach(game => {
                    const gameLink = game.querySelector('.game-link');
                    const gameName = gameLink.querySelector('.game-name').textContent.toLowerCase();
                    const gameDesc = gameLink.querySelector('.game-description').textContent.toLowerCase();
                    const gameType = gameLink.querySelector('.game-type').textContent.toLowerCase();
                    
                    if (gameName.includes(searchTerm) || gameDesc.includes(searchTerm) || gameType.includes(searchTerm)) {
                        game.style.display = 'block';
                    } else {
                        game.style.display = 'none';
                    }
                });
            }
            
            // Show toast notification
            function showToast(type, message) {
                // Create toast element
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                
                // Set icon based on type
                let icon = '';
                if (type === 'success') {
                    icon = '<i class="fas fa-check-circle toast-icon"></i>';
                } else if (type === 'error') {
                    icon = '<i class="fas fa-exclamation-circle toast-icon"></i>';
                } else {
                    icon = '<i class="fas fa-info-circle toast-icon"></i>';
                }
                
                // Set content
                toast.innerHTML = `
                    ${icon}
                    <span class="toast-message">${message}</span>
                    <button class="toast-close">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                // Add to container
                toastContainer.appendChild(toast);
                
                // Add close functionality
                const closeBtn = toast.querySelector('.toast-close');
                closeBtn.addEventListener('click', () => {
                    toast.remove();
                });
                
                // Auto remove after 3 seconds
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
            
            // Load sample data for demonstration
            function loadSampleData() {
                // Sample repository files
                const sampleFiles = [
                    {
                        name: "shape-explorer-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 15360,
                        type: "file"
                    },
                    {
                        name: "triangle-adventure-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 12288,
                        type: "file"
                    },
                    {
                        name: "unit-conversion-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 10240,
                        type: "file"
                    },
                    {
                        name: "toddler-math-zone.html",
                        html_url: "#",
                        download_url: "#",
                        size: 8192,
                        type: "file"
                    },
                    {
                        name: "block-builder-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 14336,
                        type: "file"
                    },
                    {
                        name: "data-detective-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 11264,
                        type: "file"
                    },
                    {
                        name: "big-numbers-explorer.html",
                        html_url: "#",
                        download_url: "#",
                        size: 9216,
                        type: "file"
                    },
                    {
                        name: "direction-magnitude-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 13312,
                        type: "file"
                    },
                    {
                        name: "math-wizard-academy.html",
                        html_url: "#",
                        download_url: "#",
                        size: 16384,
                        type: "file"
                    },
                    {
                        name: "curve-explorer-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 12288,
                        type: "file"
                    },
                    {
                        name: "triangle-magic-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 10240,
                        type: "file"
                    },
                    {
                        name: "quantum-quest-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 17408,
                        type: "file"
                    },
                    {
                        name: "matching-tiles-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 7168,
                        type: "file"
                    },
                    {
                        name: "learning-tiles-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 8192,
                        type: "file"
                    },
                    {
                        name: "enhanced-tiles-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 9216,
                        type: "file"
                    },
                    {
                        name: "advanced-tiles-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 10240,
                        type: "file"
                    },
                    {
                        name: "problem-solvers-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 13312,
                        type: "file"
                    },
                    {
                        name: "advanced-problem-solvers.html",
                        html_url: "#",
                        download_url: "#",
                        size: 15360,
                        type: "file"
                    },
                    {
                        name: "sequential-sorting-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 11264,
                        type: "file"
                    },
                    {
                        name: "advanced-sorting-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 12288,
                        type: "file"
                    },
                    {
                        name: "world-explorer-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 14336,
                        type: "file"
                    },
                    {
                        name: "technology-explorer-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 16384,
                        type: "file"
                    },
                    {
                        name: "brain-builder-game.html",
                        html_url: "#",
                        download_url: "#",
                        size: 10240,
                        type: "file"
                    },
                    {
                        name: "measuring-story-book.pdf",
                        html_url: "#",
                        download_url: "#",
                        size: 5120,
                        type: "file"
                    }
                ];
                
                // Process the sample files
                processFiles(sampleFiles);
                
                hideLoading();
                hideNoContent();
                showToast('info', 'Sample data loaded successfully!');
            }
            
            // Toggle dark/light mode
            function toggleTheme() {
                const body = document.body;
                const themeIcon = themeToggle.querySelector('i');
                
                if (isDarkMode) {
                    // Switch to light mode
                    body.classList.remove('dark-mode');
                    themeIcon.className = 'fas fa-sun';
                } else {
                    // Switch to dark mode
                    body.classList.add('dark-mode');
                    themeIcon.className = 'fas fa-moon';
                }
                
                isDarkMode = !isDarkMode;
            }
            
            // Event Listeners
            
            // Load repository button
            loadRepoBtn.addEventListener('click', function() {
                const owner = repoOwnerInput.value.trim();
                const repo = repoNameInput.value.trim();
                
                if (owner && repo) {
                    fetchRepositoryFiles(owner, repo);
                } else {
                    showToast('error', 'Please enter both GitHub username and repository name.');
                }
            });
            
            // Sample data button
            sampleDataBtn.addEventListener('click', function() {
                loadSampleData();
            });
            
            // Search input
            searchInput.addEventListener('input', function() {
                searchGames(this.value);
            });
            
            // Age filter buttons
            ageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    ageButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Filter games based on selected age
                    if (this.classList.contains('all')) {
                        filterGamesByAge('all');
                    } else if (this.classList.contains('toddler')) {
                        filterGamesByAge('toddler');
                    } else if (this.classList.contains('kindergarten')) {
                        filterGamesByAge('kindergarten');
                    }
                });
            });
            
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Initialize the page
            showNoContent();
            
            // Check for saved repository
            const savedOwner = localStorage.getItem('repoOwner');
            const savedRepo = localStorage.getItem('repoName');
            
            if (savedOwner && savedRepo) {
                repoOwnerInput.value = savedOwner;
                repoNameInput.value = savedRepo;
                fetchRepositoryFiles(savedOwner, savedRepo);
            }
            
            // Animation on scroll
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                    }
                });
            }, { threshold: 0.1 });
            
            // Observe modules for animation
            setTimeout(() => {
                const modules = document.querySelectorAll('.module');
                modules.forEach(module => {
                    observer.observe(module);
                });
            }, 500);
        });
    </script>
</body>
</html>
