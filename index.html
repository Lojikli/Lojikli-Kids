<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lojikli Kids Learning Adventure</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #FF6B6B;
            --secondary-color: #4ECDC4;
            --accent1-color: #FFD166;
            --accent2-color: #6A5ACD;
            --accent3-color: #06D6A0;
            --math-color: #FF6B6B;
            --science-color: #4ECDC4;
            --music-color: #FFD166;
            --language-color: #6A5ACD;
            --geography-color: #06D6A0;
            --games-color: #FC76AF;
            --logic-color: #43BCCD;
            --physics-color: #EAC435;
            --misc-color: #9370DB;
            --dark-color: #292F36;
            --light-color: #F7FFF7;
            --shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            --bubble-shadow: 0 8px 0 rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%2399E2B4' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--accent2-color));
            color: white;
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border-bottom: 8px solid var(--accent1-color);
        }

        .header-bubbles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            animation: float 8s ease-in-out infinite;
        }

        .bubble:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .bubble:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 20%;
            right: 15%;
            animation-delay: 1s;
        }

        .bubble:nth-child(3) {
            width: 40px;
            height: 40px;
            bottom: 20%;
            left: 20%;
            animation-delay: 2s;
        }

        .bubble:nth-child(4) {
            width: 70px;
            height: 70px;
            bottom: 30%;
            right: 25%;
            animation-delay: 3s;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
            100% {
                transform: translateY(0) rotate(0deg);
            }
        }

        h1 {
            font-family: 'Comic Neue', cursive;
            font-weight: 700;
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 3px 3px 0px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
            color: white;
        }

        h2 {
            font-family: 'Comic Neue', cursive;
            font-weight: 700;
            font-size: 2rem;
            margin: 1.5rem 0;
            color: var(--accent2-color);
            text-align: center;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--accent1-color);
            border-radius: 2px;
        }

        .category-title {
            font-family: 'Comic Neue', cursive;
            font-weight: 700;
            font-size: 1.8rem;
            margin: 1rem 0;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            color: white;
            text-align: center;
            display: inline-block;
            box-shadow: var(--shadow);
        }

        .category-math {
            background-color: var(--math-color);
        }

        .category-science {
            background-color: var(--science-color);
        }

        .category-music {
            background-color: var(--music-color);
        }

        .category-language {
            background-color: var(--language-color);
        }

        .category-geography {
            background-color: var(--geography-color);
        }

        .category-games {
            background-color: var(--games-color);
        }

        .category-logic {
            background-color: var(--logic-color);
        }

        .category-physics {
            background-color: var(--physics-color);
        }
        
        .category-misc {
            background-color: var(--misc-color);
        }

        .tagline {
            font-size: 1.4rem;
            font-weight: 600;
            opacity: 0.9;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .character {
            width: 120px;
            position: absolute;
            bottom: -20px;
            z-index: 2;
        }

        .character.boy {
            left: 5%;
            transform: scaleX(-1);
        }

        .character.girl {
            right: 5%;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            position: relative;
        }

        .games-section {
            margin-bottom: 3rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .category-icon {
            font-size: 2.5rem;
            margin-right: 1rem;
        }

        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
            position: relative;
            z-index: 1;
        }

        .game-card {
            background-color: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            height: 200px;
            display: flex;
            flex-direction: column;
            border: 3px solid;
        }

        .math-card {
            border-color: var(--math-color);
        }

        .science-card {
            border-color: var(--science-color);
        }

        .music-card {
            border-color: var(--music-color);
        }

        .language-card {
            border-color: var(--language-color);
        }

        .geography-card {
            border-color: var(--geography-color);
        }

        .games-card {
            border-color: var(--games-color);
        }

        .logic-card {
            border-color: var(--logic-color);
        }

        .physics-card {
            border-color: var(--physics-color);
        }
        
        .misc-card {
            border-color: var(--misc-color);
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
        }

        .math-card::before {
            background: var(--math-color);
        }

        .science-card::before {
            background: var(--science-color);
        }

        .music-card::before {
            background: var(--music-color);
        }

        .language-card::before {
            background: var(--language-color);
        }

        .geography-card::before {
            background: var(--geography-color);
        }

        .games-card::before {
            background: var(--games-color);
        }

        .logic-card::before {
            background: var(--logic-color);
        }

        .physics-card::before {
            background: var(--physics-color);
        }
        
        .misc-card::before {
            background: var(--misc-color);
        }

        .game-card a {
            padding: 1.5rem;
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 600;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .game-card .game-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            font-family: 'Comic Neue', cursive;
        }

        .math-card .game-title {
            color: var(--math-color);
        }

        .science-card .game-title {
            color: var(--science-color);
        }

        .music-card .game-title {
            color: var(--music-color);
        }

        .language-card .game-title {
            color: var(--language-color);
        }

        .geography-card .game-title {
            color: var(--geography-color);
        }

        .games-card .game-title {
            color: var(--games-color);
        }

        .logic-card .game-title {
            color: var(--logic-color);
        }

        .physics-card .game-title {
            color: var(--physics-color);
        }
        
        .misc-card .game-title {
            color: var(--misc-color);
        }

        .game-card .game-description {
            font-size: 0.95rem;
            color: #666;
            flex-grow: 1;
        }

        .game-card .age-tag {
            display: inline-block;
            background-color: var(--accent1-color);
            color: var(--dark-color);
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: 0.8rem;
            margin-top: 0.8rem;
            align-self: flex-start;
            font-weight: 800;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        .game-card::after {
            content: 'üëâ';
            position: absolute;
            right: 15px;
            bottom: 15px;
            font-size: 1.5rem;
            opacity: 0;
            transition: var(--transition);
            transform: translateX(-10px);
        }

        .game-card:hover::after {
            opacity: 1;
            transform: translateX(0);
        }

        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.4rem;
            color: var(--accent2-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .loading::after {
            content: '';
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--accent2-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            padding: 1.5rem;
            background-color: #FFD166;
            color: var(--dark-color);
            border-radius: 15px;
            text-align: center;
            margin: 1rem 0;
            border: 3px dashed #FF6B6B;
            position: relative;
            box-shadow: var(--shadow);
        }

        .error::before {
            content: 'üò•';
            font-size: 2rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        footer {
            background-color: var(--accent2-color);
            color: white;
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
            position: relative;
            box-shadow: 0 -6px 12px rgba(0,0,0,0.1);
        }

        .footer-wave {
            position: absolute;
            top: -70px;
            left: 0;
            width: 100%;
            height: 70px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.25' fill='%236A5ACD'%3E%3C/path%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.5' fill='%236A5ACD'%3E%3C/path%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' fill='%236A5ACD'%3E%3C/path%3E%3C/svg%3E");
            background-size: cover;
            background-repeat: no-repeat;
        }

        .search-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .search-box-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 3px solid var(--accent1-color);
            border-radius: 50px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            color: var(--dark-color);
            background-color: white;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent2-color);
            box-shadow: 0 0 0 4px rgba(106, 90, 205, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            font-size: 1.3rem;
            color: var(--accent2-color);
            pointer-events: none;
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            justify-content: center;
        }

        .filter-btn {
            padding: 0.7rem 1.3rem;
            background-color: white;
            border: 3px solid var(--secondary-color);
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            font-size: 0.9rem;
            color: var(--secondary-color);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .filter-btn:hover, .filter-btn.active {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-3px);
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .age-toggle {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            gap: 1rem;
        }

        .age-toggle-btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 50px;
            background-color: var(--light-color);
            border: 3px solid var(--primary-color);
            color: var(--primary-color);
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .age-toggle-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .age-toggle-btn:hover {
            transform: translateY(-3px);
        }

        .category-container {
            margin-bottom: 3rem;
            border-radius: 20px;
            padding: 2rem;
            background-color: rgba(255, 255, 255, 0.7);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .category-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.5);
            z-index: 0;
        }

        .category-header {
            text-align: center;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        /* Animation for cards */
        @keyframes pop-in {
            0% {
                opacity: 0;
                transform: scale(0.5) translateY(50px);
            }
            70% {
                transform: scale(1.1) translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .game-card {
            animation: pop-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            opacity: 0;
        }

        /* Floating cloud decorations */
        .cloud {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            z-index: 0;
        }

        .cloud-1 {
            width: 100px;
            height: 60px;
            top: 10%;
            left: 5%;
            animation: float-cloud 15s ease-in-out infinite;
        }

        .cloud-2 {
            width: 120px;
            height: 70px;
            top: 30%;
            right: 5%;
            animation: float-cloud 18s ease-in-out infinite reverse;
        }

        @keyframes float-cloud {
            0% {
                transform: translateX(0);
            }
            50% {
                transform: translateX(100px);
            }
            100% {
                transform: translateX(0);
            }
        }

        #backToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: var(--accent2-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 1.5rem;
            box-shadow: var(--shadow);
            opacity: 0;
            transition: var(--transition);
        }

        #backToTop.visible {
            opacity: 1;
        }

        /* Game icons styles */
        .game-icon {
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            margin-right: 15px;
            border-radius: 12px;
            flex-shrink: 0;
            box-shadow: var(--shadow);
        }

        .math-icon {
            background-color: var(--math-color);
            color: white;
        }

        .science-icon {
            background-color: var(--science-color);
            color: white;
        }

        .music-icon {
            background-color: var(--music-color);
            color: white;
        }

        .language-icon {
            background-color: var(--language-color);
            color: white;
        }

        .geography-icon {
            background-color: var(--geography-color);
            color: white;
        }

        .games-icon {
            background-color: var(--games-color);
            color: white;
        }

        .logic-icon {
            background-color: var(--logic-color);
            color: white;
        }

        .physics-icon {
            background-color: var(--physics-color);
            color: white;
        }
        
        .misc-icon {
            background-color: var(--misc-color);
            color: white;
        }

        .game-content {
            display: flex;
            align-items: flex-start;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .tagline {
                font-size: 1.1rem;
            }
            
            .character {
                width: 80px;
            }
            
            .character.boy {
                left: 2%;
            }
            
            .character.girl {
                right: 2%;
            }
            
            .games-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .container {
                padding: 0 1.5rem;
            }
            
            .age-toggle {
                flex-direction: column;
                align-items: center;
            }
            
            .age-toggle-btn {
                width: 80%;
            }

            .category-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .character {
                display: none;
            }
            
            .games-container {
                grid-template-columns: 1fr;
            }
            
            .filter-btn {
                font-size: 0.8rem;
                padding: 0.5rem 1rem;
            }

            .category-title {
                font-size: 1.2rem;
                padding: 0.4rem 1rem;
            }

            .game-icon {
                width: 40px;
                height: 40px;
                font-size: 1.4rem;
                margin-right: 10px;
            }
        }

        /* Category Jump Navigation */
        .category-jump-nav {
            position: sticky;
            top: 0;
            background: white;
            padding: 0.5rem;
            border-radius: 0 0 20px 20px;
            box-shadow: var(--shadow);
            z-index: 10;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .jump-btn {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            border: none;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            color: white;
            transition: var(--transition);
        }

        .jump-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }

        .jump-math { background-color: var(--math-color); }
        .jump-science { background-color: var(--science-color); }
        .jump-music { background-color: var(--music-color); }
        .jump-language { background-color: var(--language-color); }
        .jump-geography { background-color: var(--geography-color); }
        .jump-games { background-color: var(--games-color); }
        .jump-logic { background-color: var(--logic-color); }
        .jump-physics { background-color: var(--physics-color); }
        .jump-misc { background-color: var(--misc-color); }

        /* Status indicators */
        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: white;
            border-radius: 10px;
            padding: 10px 15px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .status-success {
            background-color: #4ECDC4;
            color: white;
        }

        .status-error {
            background-color: #FF6B6B;
            color: white;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-bubbles">
            <div class="bubble"></div>
            <div class="bubble"></div>
            <div class="bubble"></div>
            <div class="bubble"></div>
        </div>
        <img src="/api/placeholder/120/180" alt="Boy character" class="character boy">
        <h1>Lojikli Kids Adventure</h1>
        <p class="tagline">Discover amazing games for little geniuses!</p>
        <img src="/api/placeholder/120/180" alt="Girl character" class="character girl">
    </header>

    <div class="container">
        <div class="age-toggle">
            <button class="age-toggle-btn" data-age="2">Perfect for 2-year-olds</button>
            <button class="age-toggle-btn active" data-age="5">Perfect for 5-year-olds</button>
        </div>

        <div class="search-container">
            <div class="search-box-container">
                <input type="text" class="search-box" id="searchBox" placeholder="Find your favorite game...">
                <span class="search-icon">üîç</span>
            </div>
        </div>

        <div class="category-jump-nav" id="categoryJumpNav">
            <button class="jump-btn jump-math" data-target="math-section">Math</button>
            <button class="jump-btn jump-science" data-target="science-section">Science</button>
            <button class="jump-btn jump-music" data-target="music-section">Music</button>
            <button class="jump-btn jump-language" data-target="language-section">Language</button>
            <button class="jump-btn jump-geography" data-target="geography-section">Geography</button>
            <button class="jump-btn jump-games" data-target="games-section">Games</button>
            <button class="jump-btn jump-logic" data-target="logic-section">Logic</button>
            <button class="jump-btn jump-physics" data-target="physics-section">Physics</button>
            <button class="jump-btn jump-misc" data-target="misc-section">Misc</button>
        </div>

        <!-- Math Section -->
        <div class="category-container" id="math-section">
            <div class="category-header">
                <h2 class="category-title category-math">Math Magic üßÆ</h2>
                <p>Learn and practice math concepts through fun activities</p>
            </div>
            <div class="games-container math-games">
                <!-- Math games will be loaded here -->
                <div class="loading">Loading math games...</div>
            </div>
        </div>

        <!-- Science Section -->
        <div class="category-container" id="science-section">
            <div class="category-header">
                <h2 class="category-title category-science">Science Lab üî¨</h2>
                <p>Explore scientific concepts and discoveries</p>
            </div>
            <div class="games-container science-games">
                <!-- Science games will be loaded here -->
                <div class="loading">Loading science games...</div>
            </div>
        </div>

        <!-- Music Section -->
        <div class="category-container" id="music-section">
            <div class="category-header">
                <h2 class="category-title category-music">Music Makers üéµ</h2>
                <p>Create and learn about music through interactive activities</p>
            </div>
            <div class="games-container music-games">
                <!-- Music games will be loaded here -->
                <div class="loading">Loading music games...</div>
            </div>
        </div>

        <!-- Language Section -->
        <div class="category-container" id="language-section">
            <div class="category-header">
                <h2 class="category-title category-language">Word Wizards üìö</h2>
                <p>Build vocabulary and language skills</p>
            </div>
            <div class="games-container language-games">
                <!-- Language games will be loaded here -->
                <div class="loading">Loading language games...</div>
            </div>
        </div>

        <!-- Geography Section -->
        <div class="category-container" id="geography-section">
            <div class="category-header">
                <h2 class="category-title category-geography">World Explorers üåé</h2>
                <p>Discover countries, continents and geographical features</p>
            </div>
            <div class="games-container geography-games">
                <!-- Geography games will be loaded here -->
                <div class="loading">Loading geography games...</div>
            </div>
        </div>

        <!-- Fun Games Section -->
        <div class="category-container" id="games-section">
            <div class="category-header">
                <h2 class="category-title category-games">Fun & Play üéÆ</h2>
                <p>Just for fun games with hidden learning benefits</p>
            </div>
            <div class="games-container fun-games">
                <!-- Fun games will be loaded here -->
                <div class="loading">Loading fun games...</div>
            </div>
        </div>

        <!-- Logic & Puzzles Section -->
        <div class="category-container" id="logic-section">
            <div class="category-header">
                <h2 class="category-title category-logic">Brain Teasers üß©</h2>
                <p>Challenge your mind with logic puzzles</p>
            </div>
            <div class="games-container logic-games">
                <!-- Logic games will be loaded here -->
                <div class="loading">Loading logic games...</div>
            </div>
        </div>

        <!-- Physics & Advanced Section -->
        <div class="category-container" id="physics-section">
            <div class="category-header">
                <h2 class="category-title category-physics">Advanced Concepts üöÄ</h2>
                <p>Explore physics, calculus and advanced topics</p>
            </div>
            <div class="games-container physics-games">
                <!-- Physics games will be loaded here -->
                <div class="loading">Loading physics games...</div>
            </div>
        </div>

        <!-- Miscellaneous Section -->
        <div class="category-container" id="misc-section">
            <div class="category-header">
                <h2 class="category-title category-misc">Miscellaneous üé≤</h2>
                <p>Other interesting games and activities</p>
            </div>
            <div class="games-container misc-games">
                <!-- Miscellaneous games will be loaded here -->
                <div class="loading">Loading miscellaneous games...</div>
            </div>
        </div>

        <!-- Back to top button -->
        <div id="backToTop">‚Üë</div>

        <!-- Status indicator -->
        <div id="statusIndicator" class="status-indicator">Loading games...</div>
    </div>

    <footer>
        <div class="footer-wave"></div>
        <p>&copy; 2025 Lojikli Kids Adventure. All games are designed with love for curious little minds.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Main repository URL
            const repoOwner = 'Lojikli';  // Replace with your GitHub username
            const repoName = 'Lojikli-Kids';  // Replace with your repository name
            const baseRepoUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents`;
            const rawContentBaseUrl = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/main`;
            
            const searchBox = document.getElementById('searchBox');
            const ageToggleBtns = document.querySelectorAll('.age-toggle-btn');
            const backToTopBtn = document.getElementById('backToTop');
            const statusIndicator = document.getElementById('statusIndicator');
            
            // Game containers
            const mathGamesContainer = document.querySelector('.math-games');
            const scienceGamesContainer = document.querySelector('.science-games');
            const musicGamesContainer = document.querySelector('.music-games');
            const languageGamesContainer = document.querySelector('.language-games');
            const geographyGamesContainer = document.querySelector('.geography-games');
            const funGamesContainer = document.querySelector('.fun-games');
            const logicGamesContainer = document.querySelector('.logic-games');
            const physicsGamesContainer = document.querySelector('.physics-games');
            const miscGamesContainer = document.querySelector('.misc-games');
            
            let allGames = [];
            let activeAge = '5'; // Default to 5-year-olds

            // Icon mapping for different game types
            const gameIcons = {
                math: 'üßÆ',
                science: 'üî¨',
                music: 'üéµ',
                language: 'üìö',
                geography: 'üåé',
                games: 'üéÆ',
                logic: 'üß©',
                physics: 'üöÄ',
                misc: 'üé≤'
            };

            // Category-specific keywords for better classification
            const categoryKeywords = {
                math: ['math', 'addition', 'subtraction', 'multiplication', 'division', 'algebra', 'geometry', 
                      'calculus', 'fraction', 'decimal', 'percentage', 'number', 'arithmetic', 'zero', 'pemdas',
                      'area', 'volume', 'binomial', 'factor', 'factoring', 'polynomial', 'gcf', 'distributive', 
                      'divisibility', 'compare', 'term', 'trinomial', 'property', 'scientific', 'notation', 'plot',
                      'negative', 'statistic', 'unit', 'conversion', 'vector', 'scalar', 'mx', 'plus', 'line'],
                science: ['science', 'chemistry', 'biology', 'experiment', 'lab', 'neural', 'tech', 'explorer'],
                music: ['music', 'piano', 'instrument', 'note', 'rhythm', 'harmony', 'chord', 'melody', 'midi', 'circle of fifths'],
                language: ['word', 'letter', 'reading', 'spelling', 'vocabulary', 'grammar', 'language', 'scramble', 'writing', 'problem'],
                geography: ['geography', 'map', 'country', 'continent', 'globe', 'world', 'geo'],
                games: ['memory', 'cards', 'fun', 'play', 'bubble', 'pop', 'snake', 'ladder', 'trouble', 'battleship', 'solitaire', 'space-adventure', 'pacman', 'slider', 'timer'],
                logic: ['logic', 'puzzle', 'brain', 'maze', 'pathfinder', 'pipe', 'soduku', 'connect4', 'dot', 'minesweeper', 'hexcell', 'ai', 'enhanced'],
                physics: ['physics', 'quantum', 'vector', 'scalar', 'perspective', 'asteroid', 'planet', 'lander', 'trig', 'triangle']
            };

            // Show status indicator
            function showStatus(message, isError = false) {
                statusIndicator.textContent = message;
                statusIndicator.style.display = 'block';
                
                if (isError) {
                    statusIndicator.classList.add('status-error');
                    statusIndicator.classList.remove('status-success');
                } else {
                    statusIndicator.classList.add('status-success');
                    statusIndicator.classList.remove('status-error');
                }
                
                setTimeout(() => {
                    statusIndicator.style.opacity = '0';
                    setTimeout(() => {
                        statusIndicator.style.display = 'none';
                        statusIndicator.style.opacity = '1';
                    }, 500);
                }, 3000);
            }

            // Handle age toggle
            ageToggleBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    ageToggleBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    activeAge = btn.getAttribute('data-age');
                    
                    // Reload games for the selected age
                    loadGamesForAge(activeAge);
                });
            });

            // Category jump navigation
            document.querySelectorAll('.jump-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetId = btn.getAttribute('data-target');
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Back to top button
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });

            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Function to determine the appropriate category for a game based on its name
            function determineGameCategory(gameName) {
                const lowerName = gameName.toLowerCase();
                
                // Debug log to see what files are being processed
                console.log(`Processing file: ${gameName}`);
                
                // Special handling for specific files
                if (lowerName.includes('factoring polynomial') || 
                    lowerName.includes('factoring term') || 
                    lowerName.includes('factoring-binomial')) {
                    console.log(`Categorizing ${gameName} as math`);
                    return 'math';
                }
                
                // Check each category's keywords
                for (const [category, keywords] of Object.entries(categoryKeywords)) {
                    if (keywords.some(keyword => lowerName.includes(keyword))) {
                        console.log(`Categorizing ${gameName} as ${category}`);
                        return category;
                    }
                }
                
                // Return "misc" for files that don't match any category
                console.log(`Categorizing ${gameName} as misc (no category match)`);
                return "misc";
            }

            // Function to load games for a specific age
            function loadGamesForAge(age) {
                // Show loading status
                showStatus(`Loading games for ${age}-year-olds...`);
                
                // Reset all game containers
                const containers = [mathGamesContainer, scienceGamesContainer, musicGamesContainer, 
                                  languageGamesContainer, geographyGamesContainer, funGamesContainer, 
                                  logicGamesContainer, physicsGamesContainer, miscGamesContainer];
                
                containers.forEach(container => {
                    container.innerHTML = '<div class="loading">Loading games...</div>';
                });
                
                // Try both folder formats: "X yr old" and "X-yr-old"
                // First try the format present in the user's directory structure
                let ageDirectoryUrl = `${baseRepoUrl}/${encodeURIComponent(age + ' yr old')}`;
                
                fetch(ageDirectoryUrl)
                    .then(response => {
                        if (!response.ok) {
                            // If the first format fails, try the alternative format
                            ageDirectoryUrl = `${baseRepoUrl}/${encodeURIComponent(age + '-yr-old')}`;
                            return fetch(ageDirectoryUrl);
                        }
                        return response;
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`No games found for ${age}-year-olds. Check repository structure.`);
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Debug: Log all files found
                        console.log("Files found in repository:", data.map(item => item.name));
                        
                        // Filter for HTML files that are likely games
                        allGames = data.filter(item => {
                            const isHtml = item.name.toLowerCase().endsWith('.html');
                            const isNotIndex = !item.name.toLowerCase().includes('index');
                            return isHtml && isNotIndex;
                        });
                        
                        console.log("Filtered HTML files:", allGames.map(item => item.name));

                        // Categorize and display games
                        categorizeGames(allGames);
                        
                        // Setup search functionality
                        setupSearch();
                        
                        // Show success status
                        showStatus(`Successfully loaded ${allGames.length} games for ${age}-year-olds!`);
                    })
                    .catch(error => {
                        console.error('Error fetching directory contents:', error);
                        showStatus(`Error: ${error.message}`, true);
                        
                        containers.forEach(container => {
                            container.innerHTML = `
                                <div class="error">
                                    <p>Oops! We couldn't find games for ${age}-year-olds.</p>
                                    <p>Please check that your repository is structured correctly with folders named "${age} yr old" or "${age}-yr-old".</p>
                                </div>
                            `;
                        });
                    });
            }

            // Function to categorize games based on keywords
            function categorizeGames(games) {
                // Reset arrays for each category
                const mathGames = [];
                const scienceGames = [];
                const musicGames = [];
                const languageGames = [];
                const geographyGames = [];
                const funGames = [];
                const logicGames = [];
                const physicsGames = [];
                const miscGames = [];
                
                // Keep track of categorized games
                const categorizedGames = new Set();
                
                games.forEach(game => {
                    const category = determineGameCategory(game.name);
                    
                    // Add game to the appropriate category array
                    switch(category) {
                        case 'math':
                            mathGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'science':
                            scienceGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'music':
                            musicGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'language':
                            languageGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'geography':
                            geographyGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'logic':
                            logicGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'physics':
                            physicsGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        case 'games':
                            funGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                        default:
                            // If we get here, the game doesn't fit in any category
                            miscGames.push(game);
                            categorizedGames.add(game.name);
                            break;
                    }
                });
                
                // Find any games that weren't categorized and put them in the miscellaneous category
                games.forEach(game => {
                    if (!categorizedGames.has(game.name)) {
                        miscGames.push(game);
                    }
                });
                
                // Display games in each category
                displayGames(mathGames, mathGamesContainer, 'math-card', 'math-icon');
                displayGames(scienceGames, scienceGamesContainer, 'science-card', 'science-icon');
                displayGames(musicGames, musicGamesContainer, 'music-card', 'music-icon');
                displayGames(languageGames, languageGamesContainer, 'language-card', 'language-icon');
                displayGames(geographyGames, geographyGamesContainer, 'geography-card', 'geography-icon');
                displayGames(funGames, funGamesContainer, 'games-card', 'games-icon');
                displayGames(logicGames, logicGamesContainer, 'logic-card', 'logic-icon');
                displayGames(physicsGames, physicsGamesContainer, 'physics-card', 'physics-icon');
                displayGames(miscGames, miscGamesContainer, 'misc-card', 'misc-icon');
                
                // Hide empty sections
                hideEmptySections([
                    { games: mathGames, section: document.getElementById('math-section'), jumpBtn: document.querySelector('.jump-math') },
                    { games: scienceGames, section: document.getElementById('science-section'), jumpBtn: document.querySelector('.jump-science') },
                    { games: musicGames, section: document.getElementById('music-section'), jumpBtn: document.querySelector('.jump-music') },
                    { games: languageGames, section: document.getElementById('language-section'), jumpBtn: document.querySelector('.jump-language') },
                    { games: geographyGames, section: document.getElementById('geography-section'), jumpBtn: document.querySelector('.jump-geography') },
                    { games: funGames, section: document.getElementById('games-section'), jumpBtn: document.querySelector('.jump-games') },
                    { games: logicGames, section: document.getElementById('logic-section'), jumpBtn: document.querySelector('.jump-logic') },
                    { games: physicsGames, section: document.getElementById('physics-section'), jumpBtn: document.querySelector('.jump-physics') },
                    { games: miscGames, section: document.getElementById('misc-section'), jumpBtn: document.querySelector('.jump-misc') }
                ]);
            }

            // Hide empty sections
            function hideEmptySections(sections) {
                sections.forEach(({ games, section, jumpBtn }) => {
                    if (games.length === 0) {
                        if (section) section.style.display = 'none';
                        if (jumpBtn) jumpBtn.style.display = 'none';
                    } else {
                        if (section) section.style.display = 'block';
                        if (jumpBtn) jumpBtn.style.display = 'block';
                    }
                });
            }

            // Function to display games in a container with icons
            function displayGames(games, container, cardClass, iconClass) {
                if (!container) return;
                
                if (games.length === 0) {
                    container.innerHTML = `
                        <div class="error">
                            <p>No games found in this category.</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = '';
                
                games.forEach((game, index) => {
                    // Create a readable title from the filename
                    const readableTitle = formatTitle(game.name);
                    
                    // Create game description based on the name
                    const description = generateDescription(game.name, activeAge);
                    
                    // Get appropriate icon for the game type
                    const category = determineGameCategory(game.name);
                    const gameEmoji = gameIcons[category];
                    
                    // Create the correct GitHub Pages URL for the game
                    const gamePageUrl = `https://${repoOwner}.github.io/${repoName}/${encodeURIComponent(game.path)}`;
                    
                    const gameCard = document.createElement('div');
                    gameCard.className = `game-card ${cardClass}`;
                    gameCard.style.animationDelay = `${0.05 * index}s`;
                    
                    gameCard.innerHTML = `
                        <a href="${gamePageUrl}" target="_blank">
                            <div class="game-content">
                                <div class="game-icon ${iconClass}">${gameEmoji}</div>
                                <div>
                                    <div class="game-title">${readableTitle}</div>
                                    <div class="game-description">${description}</div>
                                </div>
                            </div>
                            <span class="age-tag">Age ${activeAge}+</span>
                        </a>
                    `;
                    
                    container.appendChild(gameCard);
                });
            }

            // Setup search functionality
            function setupSearch() {
                searchBox.addEventListener('input', () => {
                    const searchTerm = searchBox.value.toLowerCase();
                    
                    if (searchTerm.length < 2) {
                        // If search term is too short, restore original categorization
                        categorizeGames(allGames);
                        return;
                    }
                    
                    const filteredGames = allGames.filter(game => {
                        const title = formatTitle(game.name).toLowerCase();
                        const description = generateDescription(game.name, activeAge).toLowerCase();
                        
                        return title.includes(searchTerm) || description.includes(searchTerm);
                    });
                    
                    // Show all sections for search results
                    document.querySelectorAll('.category-container').forEach(section => {
                        section.style.display = 'block';
                    });
                    
                    document.querySelectorAll('.jump-btn').forEach(btn => {
                        btn.style.display = 'block';
                    });
                    
                    // Clear all containers
                    const containers = [mathGamesContainer, scienceGamesContainer, musicGamesContainer, 
                                      languageGamesContainer, geographyGamesContainer, funGamesContainer, 
                                      logicGamesContainer, physicsGamesContainer, miscGamesContainer];
                    
                    containers.forEach(container => {
                        container.innerHTML = '';
                    });
                    
                    // If no games found with search term
                    if (filteredGames.length === 0) {
                        containers.forEach(container => {
                            container.innerHTML = `
                                <div class="error">
                                    <p>No games found matching "${searchTerm}"</p>
                                </div>
                            `;
                        });
                        return;
                    }
                    
                    // Re-categorize the filtered games
                    categorizeGames(filteredGames);
                    
                    // Show search results status
                    showStatus(`Found ${filteredGames.length} games matching "${searchTerm}"`);
                });
            }

            // Helper function to format title from filename
            function formatTitle(filename) {
                // Remove file extension
                let title = filename.replace('.html', '');
                
                // Replace hyphens and underscores with spaces
                title = title.replace(/[-_]/g, ' ');
                
                // Remove version numbers (v1, v2, etc.)
                title = title.replace(/\s+v\d+(\.\d+)?/i, '');
                
                // Title case
                title = title.split(' ').map(word => {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }).join(' ');
                
                return title;
            }

            // Helper function to generate age-appropriate descriptions
            function generateDescription(filename, age) {
                const lowerFilename = filename.toLowerCase();
                
                // Keywords to description mapping
                const descriptionMapping = {
                    'math': 'Learn math concepts through fun interactive activities',
                    'addition': 'Practice addition with engaging number challenges',
                    'subtraction': 'Master subtraction with colorful interactive problems',
                    'multiplication': 'Multiply numbers in this fun learning game',
                    'division': 'Practice division skills with step-by-step guidance',
                    'fraction': 'Learn about fractions through visual examples',
                    'decimal': 'Understand decimals with clear interactive examples',
                    'geometry': 'Explore shapes, angles and geometric concepts',
                    'algebra': 'Discover the basics of algebraic thinking',
                    'calculus': 'Introduction to calculus concepts for young minds',
                    'music': 'Create music and explore musical concepts',
                    'piano': 'Learn to play virtual piano keys and understand notes',
                    'note': 'Identify musical notes and build your music skills',
                    'country': 'Learn about different countries around the world',
                    'globe': 'Explore our planet with this interactive globe',
                    'language': 'Build vocabulary and language skills',
                    'word': 'Practice word skills and expand your vocabulary',
                    'puzzle': 'Solve puzzles that challenge your brain',
                    'maze': 'Navigate through mazes using logic and planning',
                    'connect': 'Connect pieces and develop strategic thinking',
                    'bubble': 'Pop bubbles in this fun and educational game',
                    'asteroid': 'Navigate through space dodging asteroids',
                    'battleship': 'Play the classic game of Battleship',
                    'soduku': 'Solve Sudoku puzzles adapted for young minds',
                    'hexcell': 'Challenge yourself with this logic-based puzzle',
                    'minesweeper': 'Test your logic and memory with this classic game',
                    'snake': 'Play Snake and Ladders with a mathematical twist',
                    'quantum': 'Introduction to quantum concepts through play',
                    'neural': 'Learn about neural networks in a simple way',
                    'vector': 'Understand vectors through interactive visualization',
                    'factor': 'Find factors and learn about factorization',
                    'binomial': 'Learn about binomial operations and concepts',
                    'area': 'Explore area and volume calculations',
                    'pemdas': 'Practice order of operations in mathematics',
                    'divisibility': 'Learn rules for dividing numbers',
                    'dot': 'Connect dots in this strategy game',
                    'reading': 'Practice reading skills with interactive stories',
                    'circle of fifths': 'Learn music theory with the circle of fifths',
                    'midi': 'Create music with digital instruments',
                    'trig': 'Explore trigonometry concepts through visualization',
                    'pathfinder': 'Find the optimal path in this logic puzzle',
                    'short division': 'Practice division using the short division method',
                    'reducing fractions': 'Learn to simplify fractions to lowest terms',
                    'distributive': 'Understand the distributive property in math',
                    'compare': 'Compare different mathematical values and concepts',
                    'writing': 'Develop your writing skills through practice',
                    'planet': 'Explore planets and space concepts',
                    'trouble': 'Play the classic Trouble board game',
                    'game': 'A fun game with educational benefits'
                };
                
                // Check for matching keywords
                for (const [keyword, description] of Object.entries(descriptionMapping)) {
                    if (lowerFilename.includes(keyword)) {
                        return description;
                    }
                }
                
                // Default description if no match
                return 'A fun learning activity for curious young minds';
            }

            // Initial load of games for default age
            loadGamesForAge(activeAge);

            // Add some interactive elements for young kids
            function addInteractiveElements() {
                // Easter egg - clicking on the header creates bubbles
                const header = document.querySelector('header');
                header.addEventListener('click', (e) => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    bubble.style.width = Math.random() * 40 + 20 + 'px';
                    bubble.style.height = bubble.style.width;
                    bubble.style.left = e.offsetX + 'px';
                    bubble.style.top = e.offsetY + 'px';
                    bubble.style.opacity = '0.7';
                    bubble.style.position = 'absolute';
                    
                    header.appendChild(bubble);
                    
                    setTimeout(() => {
                        bubble.remove();
                    }, 2000);
                });
                
                // Make the search box more kid-friendly
                searchBox.addEventListener('focus', () => {
                    searchBox.placeholder = "What do you want to play today?";
                });
                
                searchBox.addEventListener('blur', () => {
                    searchBox.placeholder = "Find your favorite game...";
                });
            }
            
            // Call the function to add interactive elements
            addInteractiveElements();

            // Add auto-refresh functionality to check for repository changes
            function setupAutoRefresh() {
                // Check for updates every 5 minutes (300000 ms)
                setInterval(() => {
                    const currentAge = activeAge;
                    fetch(`${baseRepoUrl}/${encodeURIComponent(currentAge + ' yr old')}`)
                        .then(response => {
                            if (!response.ok) {
                                // Try alternative format if the first one fails
                                return fetch(`${baseRepoUrl}/${encodeURIComponent(currentAge + '-yr-old')}`);
                            }
                            return response;
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Failed to check for updates');
                            }
                            return response.json();
                        })
                        .then(data => {
                            const newGames = data.filter(item => {
                                return item.name.endsWith('.html') && !item.name.toLowerCase().includes('index');
                            });
                            
                            // Check if there are any changes
                            if (newGames.length !== allGames.length) {
                                // Re-load games if the number of games has changed
                                loadGamesForAge(currentAge);
                                showStatus('Games updated! New content available.');
                            } else {
                                // Check if any game files have been modified
                                const oldNames = allGames.map(game => game.name).sort().join(',');
                                const newNames = newGames.map(game => game.name).sort().join(',');
                                
                                if (oldNames !== newNames) {
                                    loadGamesForAge(currentAge);
                                    showStatus('Games updated! New content available.');
                                }
                            }
                        })
                        .catch(error => {
                            console.error('Error checking for updates:', error);
                        });
                }, 300000); // 5 minutes
            }
            
            // Setup auto-refresh
            setupAutoRefresh();
        });
    </script>
</body>
</html>